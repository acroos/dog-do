!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dog-do/",e(e.s=1)}([function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){t.exports=r(2)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3),o=(r.n(n),r(4)),i=(r.n(o),r(5)),c=r(9);Object(c.a)(),window.indexedDB||window.alert("Your browser doesn't support a stable version of IndexedDB.  Long-term storage will not be enabled.  Please try a different browser.");var u=new i.a("DogDoDb");u.version(2).stores({events:"++id, eventType, itemType, itemName, quantity, timestamp"});var a,s,f=o.Main.embed(document.getElementById("root"));(s=localStorage.getItem("settings"))&&f.ports.retrievedSettings.send(JSON.parse(s)),(a=localStorage.getItem("defaults"))&&f.ports.retrievedDefaults.send(JSON.parse(a)),u.events.orderBy("timestamp").toArray().then(function(t){0==t.length&&console.log("No events to start with..."),t.map(l).forEach(function(t){return f.ports.retrievedNewEvent.send(t)})}),f.ports.saveEvent.subscribe(function(t){if(!window.indexedDB)return void console.log("IndexedDB Unavailable");if(!u)return void console.log("DB access not granted");var e=Object.assign({},t);e.timestamp=Date.parse(t.timestamp),delete e.id,u.events.add(e).then(function(e){f.ports.retrievedNewEvent.send(l(t,e))})}),f.ports.saveSettings.subscribe(function(t){localStorage.setItem("settings",JSON.stringify(t)),f.ports.retrievedSettings.send(t)}),f.ports.saveDefaults.subscribe(function(t){localStorage.setItem("defaults",JSON.stringify(t))}),f.ports.updateEvent.subscribe(function(t){if(!window.indexedDB)return void console.log("IndexedDB Unavailable");if(!u)return void console.log("DB access not granted");var e=Object.assign({},t);e.timestamp=Date.parse(t.timestamp),u.events.update(t.id,e).then(function(t){t&&f.ports.retrievedEventUpdate.send(l(e))})});var l=function(t,e){var r=Object.assign({},t),n=new Date(t.timestamp).toISOString();return r.timestamp=n,r.id=r.id||e,r}},function(t,e){},function(t,e){(function(){"use strict";function e(t){function e(e){return function(r){return t(e,r)}}return e.arity=2,e.func=t,e}function r(t){function e(e){return function(r){return function(n){return t(e,r,n)}}}return e.arity=3,e.func=t,e}function n(t){function e(e){return function(r){return function(n){return function(o){return t(e,r,n,o)}}}}return e.arity=4,e.func=t,e}function o(t){function e(e){return function(r){return function(n){return function(o){return function(i){return t(e,r,n,o,i)}}}}}return e.arity=5,e.func=t,e}function i(t){function e(e){return function(r){return function(n){return function(o){return function(i){return function(c){return t(e,r,n,o,i,c)}}}}}}return e.arity=6,e.func=t,e}function c(t){function e(e){return function(r){return function(n){return function(o){return function(i){return function(c){return function(u){return t(e,r,n,o,i,c,u)}}}}}}}return e.arity=7,e.func=t,e}function u(t){function e(e){return function(r){return function(n){return function(o){return function(i){return function(c){return function(u){return function(a){return t(e,r,n,o,i,c,u,a)}}}}}}}}return e.arity=8,e.func=t,e}function a(t){function e(e){return function(r){return function(n){return function(o){return function(i){return function(c){return function(u){return function(a){return function(s){return t(e,r,n,o,i,c,u,a,s)}}}}}}}}}return e.arity=9,e.func=t,e}function s(t,e,r){return 2===t.arity?t.func(e,r):t(e)(r)}function f(t,e,r,n){return 3===t.arity?t.func(e,r,n):t(e)(r)(n)}function l(t,e,r,n,o){return 4===t.arity?t.func(e,r,n,o):t(e)(r)(n)(o)}function _(t,e,r,n,o,i){return 5===t.arity?t.func(e,r,n,o,i):t(e)(r)(n)(o)(i)}function d(t,e,r,n,o,i,c){return 6===t.arity?t.func(e,r,n,o,i,c):t(e)(r)(n)(o)(i)(c)}var h=function(){function t(t){var e=new Date(t);return isNaN(e.getTime())?ft("Unable to parse '"+t+"' as a date. Dates must be in the ISO 8601 format."):lt(e)}var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{fromString:t,year:function(t){return t.getFullYear()},month:function(t){return{ctor:r[t.getMonth()]}},day:function(t){return t.getDate()},hour:function(t){return t.getHours()},minute:function(t){return t.getMinutes()},second:function(t){return t.getSeconds()},millisecond:function(t){return t.getMilliseconds()},toTime:function(t){return t.getTime()},fromTime:function(t){return new Date(t)},dayOfWeek:function(t){return{ctor:e[t.getDay()]}}}}(),v=function(){function t(t,e){return t/e|0}function n(t,e){return t%e}function o(t,e){if(0===e)throw new Error("Cannot perform mod 0. Division by zero error.");var r=t%e,n=0===t?0:e>0?t>=0?r:r+e:-o(-t,-e);return n===e?0:n}function i(t,e){return Math.log(e)/Math.log(t)}function c(t){return-t}function u(t){return t<0?-t:t}function a(t,e){return p.cmp(t,e)<0?t:e}function s(t,e){return p.cmp(t,e)>0?t:e}function f(t,e,r){return p.cmp(r,t)<0?t:p.cmp(r,e)>0?e:r}function l(t,e){return{ctor:w[p.cmp(t,e)+1]}}function _(t,e){return t!==e}function d(t){return!t}function h(t){return t===1/0||t===-1/0}function v(t){return 0|t}function m(t){return t*Math.PI/180}function g(t){return 2*Math.PI*t}function y(t){var e=t._0,r=t._1;return p.Tuple2(e*Math.cos(r),e*Math.sin(r))}function b(t){var e=t._0,r=t._1;return p.Tuple2(Math.sqrt(e*e+r*r),Math.atan2(r,e))}var w=["LT","EQ","GT"];return{div:e(t),rem:e(n),mod:e(o),pi:Math.PI,e:Math.E,cos:Math.cos,sin:Math.sin,tan:Math.tan,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:e(Math.atan2),degrees:m,turns:g,fromPolar:y,toPolar:b,sqrt:Math.sqrt,logBase:e(i),negate:c,abs:u,min:e(a),max:e(s),clamp:r(f),compare:e(l),xor:e(_),not:d,truncate:v,ceiling:Math.ceil,floor:Math.floor,round:Math.round,toFloat:function(t){return t},isNaN:isNaN,isInfinite:h}}(),p=function(){function t(t,e){for(var n,o=[],i=r(t,e,0,o);i&&(n=o.pop());)i=r(n.x,n.y,0,o);return i}function r(t,e,n,o){if(n>100)return o.push({x:t,y:e}),!0;if(t===e)return!0;if("object"!=typeof t){if("function"==typeof t)throw new Error('Trying to use `(==)` on functions. There is no way to know if functions are "the same" in the Elm sense. Read more about this at http://package.elm-lang.org/packages/elm-lang/core/latest/Basics#== which describes why it is this way and what the better version will look like.');return!1}if(null===t||null===e)return!1;if(t instanceof Date)return t.getTime()===e.getTime();if(!("ctor"in t)){for(var i in t)if(!r(t[i],e[i],n+1,o))return!1;return!0}if("RBNode_elm_builtin"!==t.ctor&&"RBEmpty_elm_builtin"!==t.ctor||(t=Lt(t),e=Lt(e)),"Set_elm_builtin"===t.ctor&&(t=_elm_lang$core$Set$toList(t),e=_elm_lang$core$Set$toList(e)),"::"===t.ctor){for(var c=t,u=e;"::"===c.ctor&&"::"===u.ctor;){if(!r(c._0,u._0,n+1,o))return!1;c=c._1,u=u._1}return c.ctor===u.ctor}if("_Array"===t.ctor){var a=hr.toJSArray(t),s=hr.toJSArray(e);if(a.length!==s.length)return!1;for(var f=0;f<a.length;f++)if(!r(a[f],s[f],n+1,o))return!1;return!0}if(!r(t.ctor,e.ctor,n+1,o))return!1;for(var i in t)if(!r(t[i],e[i],n+1,o))return!1;return!0}function n(t,e){if("object"!=typeof t)return t===e?p:t<e?v:m;if(t instanceof String){var r=t.valueOf(),o=e.valueOf();return r===o?p:r<o?v:m}if("::"===t.ctor||"[]"===t.ctor){for(;"::"===t.ctor&&"::"===e.ctor;){var i=n(t._0,e._0);if(i!==p)return i;t=t._1,e=e._1}return t.ctor===e.ctor?p:"[]"===t.ctor?v:m}if("_Tuple"===t.ctor.slice(0,6)){var i,c=t.ctor.slice(6)-0;if(0===c)return p;if(c>=1){if((i=n(t._0,e._0))!==p)return i;if(c>=2){if((i=n(t._1,e._1))!==p)return i;if(c>=3){if((i=n(t._2,e._2))!==p)return i;if(c>=4){if((i=n(t._3,e._3))!==p)return i;if(c>=5){if((i=n(t._4,e._4))!==p)return i;if(c>=6){if((i=n(t._5,e._5))!==p)return i;if(c>=7)throw new Error("Comparison error: cannot compare tuples with more than 6 elements.")}}}}}}return p}throw new Error("Comparison error: comparison is only defined on ints, floats, times, chars, strings, lists of comparable values, and tuples of comparable values.")}function o(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}function i(t){return new String(t)}function c(t){return y++}function u(t,e){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r}function a(t,e){return{ctor:"::",_0:t,_1:e}}function s(t,e){if("string"==typeof t)return t+e;if("[]"===t.ctor)return e;var r=a(t._0,b),n=r;for(t=t._1;"[]"!==t.ctor;)n._1=a(t._0,b),t=t._1,n=n._1;return n._1=e,r}function f(t,e){return function(r){throw new Error("Ran into a `Debug.crash` in module `"+t+"` "+_(e)+"\nThe message provided by the code author is:\n\n    "+r)}}function l(t,e,r){return function(n){throw new Error("Ran into a `Debug.crash` in module `"+t+"`\n\nThis was caused by the `case` expression "+_(e)+".\nOne of the branches ended with a crash and the following value got through:\n\n    "+d(r)+"\n\nThe message provided by the code author is:\n\n    "+n)}}function _(t){return t.start.line==t.end.line?"on line "+t.start.line:"between lines "+t.start.line+" and "+t.end.line}function d(t){var e=typeof t;if("function"===e)return"<function>";if("boolean"===e)return t?"True":"False";if("number"===e)return t+"";if(t instanceof String)return"'"+h(t,!0)+"'";if("string"===e)return'"'+h(t,!1)+'"';if(null===t)return"null";if("object"===e&&"ctor"in t){var r=t.ctor.substring(0,5);if("_Tupl"===r){var n=[];for(var o in t)"ctor"!==o&&n.push(d(t[o]));return"("+n.join(",")+")"}if("_Task"===r)return"<task>";if("_Array"===t.ctor){return"Array.fromList "+d(vr(t))}if("<decoder>"===t.ctor)return"<decoder>";if("_Process"===t.ctor)return"<process:"+t.id+">";if("::"===t.ctor){var n="["+d(t._0);for(t=t._1;"::"===t.ctor;)n+=","+d(t._0),t=t._1;return n+"]"}if("[]"===t.ctor)return"[]";if("Set_elm_builtin"===t.ctor)return"Set.fromList "+d(_elm_lang$core$Set$toList(t));if("RBNode_elm_builtin"===t.ctor||"RBEmpty_elm_builtin"===t.ctor)return"Dict.fromList "+d(Lt(t));var n="";for(var i in t)if("ctor"!==i){var c=d(t[i]),u=c[0],a="{"===u||"("===u||"<"===u||'"'===u||c.indexOf(" ")<0;n+=" "+(a?c:"("+c+")")}return t.ctor+n}if("object"===e){if(t instanceof Date)return"<"+t.toString()+">";if(t.elm_web_socket)return"<websocket>";var n=[];for(var o in t)n.push(o+" = "+d(t[o]));return 0===n.length?"{}":"{ "+n.join(", ")+" }"}return"<internal structure>"}function h(t,e){var r=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?r.replace(/\'/g,"\\'"):r.replace(/\"/g,'\\"')}var v=-1,p=0,m=1,g={ctor:"_Tuple0"},y=0,b={ctor:"[]"};return{eq:t,cmp:n,Tuple0:g,Tuple2:o,chr:i,update:u,guid:c,append:e(s),crash:f,crashCase:l,toString:d}}(),m=(e(function(t,e){var r=e;return s(t,r._0,r._1)}),r(function(t,e,r){return t({ctor:"_Tuple2",_0:e,_1:r})}),r(function(t,e,r){return s(t,r,e)}),e(function(t,e){return t})),g=g||{};g["<|"]=e(function(t,e){return t(e)});var g=g||{};g["|>"]=e(function(t,e){return e(t)});var g=g||{};g[">>"]=r(function(t,e,r){return e(t(r))});var g=g||{};g["<<"]=r(function(t,e,r){return t(e(r))});var g=g||{};g["++"]=p.append;var y=p.toString,b=(v.isInfinite,v.isNaN,v.toFloat),w=(v.ceiling,v.floor),g=(v.truncate,v.round,v.not,v.xor,g||{});g["||"]=v.or;var g=g||{};g["&&"]=v.and;var k=(v.max,v.min,v.compare),g=g||{};g[">="]=v.ge;var g=g||{};g["<="]=v.le;var g=g||{};g[">"]=v.gt;var g=g||{};g["<"]=v.lt;var g=g||{};g["/="]=v.neq;var g=g||{};g["=="]=v.eq;var T=(v.e,v.pi,v.clamp,v.logBase,v.abs),g=(v.negate,v.sqrt,v.atan2,v.atan,v.asin,v.acos,v.tan,v.sin,v.cos,g||{});g["^"]=v.exp;var g=g||{};g["%"]=v.mod;var g=(v.rem,g||{});g["//"]=v.div;var g=g||{};g["/"]=v.floatDiv;var g=g||{};g["*"]=v.mul;var g=g||{};g["-"]=v.sub;var g=g||{};g["+"]=v.add;var E=(v.toPolar,v.fromPolar,v.turns,v.degrees,{ctor:"GT"}),x={ctor:"EQ"},N={ctor:"LT"},S=e(function(t,e){var r=e;return"Just"===r.ctor?r._0:t}),B={ctor:"Nothing"},P=e(function(t,e){var r=e;return"Just"===r.ctor?t(r._0):B}),A=function(t){return{ctor:"Just",_0:t}},D=e(function(t,e){var r=e;return"Just"===r.ctor?A(t(r._0)):B}),M=(r(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};return"_Tuple2"===n.ctor&&"Just"===n._0.ctor&&"Just"===n._1.ctor?A(s(t,n._0._0,n._1._0)):B}),n(function(t,e,r,n){var o={ctor:"_Tuple3",_0:e,_1:r,_2:n};return"_Tuple3"===o.ctor&&"Just"===o._0.ctor&&"Just"===o._1.ctor&&"Just"===o._2.ctor?A(f(t,o._0._0,o._1._0,o._2._0)):B}),o(function(t,e,r,n,o){var i={ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o};return"_Tuple4"===i.ctor&&"Just"===i._0.ctor&&"Just"===i._1.ctor&&"Just"===i._2.ctor&&"Just"===i._3.ctor?A(l(t,i._0._0,i._1._0,i._2._0,i._3._0)):B}),i(function(t,e,r,n,o,i){var c={ctor:"_Tuple5",_0:e,_1:r,_2:n,_3:o,_4:i};return"_Tuple5"===c.ctor&&"Just"===c._0.ctor&&"Just"===c._1.ctor&&"Just"===c._2.ctor&&"Just"===c._3.ctor&&"Just"===c._4.ctor?A(_(t,c._0._0,c._1._0,c._2._0,c._3._0,c._4._0)):B}),function(){function t(t,e){return{ctor:"::",_0:t,_1:e}}function c(e){for(var r=b,n=e.length;n--;)r=t(e[n],r);return r}function u(t){for(var e=[];"[]"!==t.ctor;)e.push(t._0),t=t._1;return e}function a(t,e,r){for(var n=u(r),o=e,i=n.length;i--;)o=s(t,n[i],o);return o}function d(t,e,r){for(var n=[];"[]"!==e.ctor&&"[]"!==r.ctor;)n.push(s(t,e._0,r._0)),e=e._1,r=r._1;return c(n)}function h(t,e,r,n){for(var o=[];"[]"!==e.ctor&&"[]"!==r.ctor&&"[]"!==n.ctor;)o.push(f(t,e._0,r._0,n._0)),e=e._1,r=r._1,n=n._1;return c(o)}function v(t,e,r,n,o){for(var i=[];"[]"!==e.ctor&&"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==o.ctor;)i.push(l(t,e._0,r._0,n._0,o._0)),e=e._1,r=r._1,n=n._1,o=o._1;return c(i)}function m(t,e,r,n,o,i){for(var u=[];"[]"!==e.ctor&&"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==o.ctor&&"[]"!==i.ctor;)u.push(_(t,e._0,r._0,n._0,o._0,i._0)),e=e._1,r=r._1,n=n._1,o=o._1,i=i._1;return c(u)}function g(t,e){return c(u(e).sort(function(e,r){return p.cmp(t(e),t(r))}))}function y(t,e){return c(u(e).sort(function(e,r){var n=t(e)(r).ctor;return"EQ"===n?0:"LT"===n?-1:1}))}var b={ctor:"[]"};return{Nil:b,Cons:t,cons:e(t),toArray:u,fromArray:c,foldr:r(a),map2:r(d),map3:n(h),map4:o(v),map5:i(m),sortBy:e(g),sortWith:e(y)}}()),I=M.sortWith,O=(M.sortBy,e(function(t,e){for(;;){if(p.cmp(t,0)<1)return e;var r=e;if("[]"===r.ctor)return e;var n=t-1,o=r._1;t=n,e=o}}),M.map5,M.map4,M.map3,M.map2),R=e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return!1;if(t(r._0))return!0;var n=t,o=r._1;t=n,e=o}}),C=(e(function(t,e){return!s(R,function(e){return!t(e)},e)}),M.foldr),j=r(function(t,e,r){for(;;){var n=r;if("[]"===n.ctor)return e;var o=t,i=s(t,n._0,e),c=n._1;t=o,e=i,r=c}}),F=function(t){return f(j,e(function(t,e){return e+1}),0,t)},q=function(t){return f(j,e(function(t,e){return t+e}),0,t)},L=(e(function(t,e){return s(R,function(e){return p.eq(e,t)},e)}),function(t){var e=t;return"::"===e.ctor?A(e._0):B}),U=U||{};U["::"]=M.cons;var J=e(function(t,r){return f(C,e(function(e,r){return{ctor:"::",_0:t(e),_1:r}}),{ctor:"[]"},r)}),K=e(function(t,r){var n=e(function(e,r){return t(e)?{ctor:"::",_0:e,_1:r}:r});return f(C,n,{ctor:"[]"},r)}),Q=r(function(t,e,r){var n=t(e);return"Just"===n.ctor?{ctor:"::",_0:n._0,_1:r}:r}),W=(e(function(t,e){return f(C,Q(t),{ctor:"[]"},e)}),function(t){return f(j,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),{ctor:"[]"},t)}),z=(r(function(t,r,n){var o=e(function(e,r){var n=r;return"::"===n.ctor?{ctor:"::",_0:s(t,e,n._0),_1:r}:{ctor:"[]"}});return W(f(j,o,{ctor:"::",_0:r,_1:{ctor:"[]"}},n))}),e(function(t,r){return"[]"===r.ctor?t:f(C,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),r,t)})),H=function(t){return f(C,z,{ctor:"[]"},t)},V=(e(function(t,e){return H(s(J,t,e))}),e(function(t,r){var n=e(function(e,r){var n=r,o=n._0,i=n._1;return t(e)?{ctor:"_Tuple2",_0:{ctor:"::",_0:e,_1:o},_1:i}:{ctor:"_Tuple2",_0:o,_1:{ctor:"::",_0:e,_1:i}}});return f(C,n,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:{ctor:"[]"}},r)}),e(function(t,r){var n=r;if("[]"===n.ctor)return{ctor:"[]"};var o=e(function(e,r){return{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:r}}}),i=f(C,o,{ctor:"[]"},n._1);return{ctor:"::",_0:n._0,_1:i}}),r(function(t,e,r){for(;;){if(p.cmp(t,0)<1)return r;var n=e;if("[]"===n.ctor)return r;var o=t-1,i=n._1,c={ctor:"::",_0:n._0,_1:r};t=o,e=i,r=c}})),$=e(function(t,e){return W(f(V,t,e,{ctor:"[]"}))}),G=r(function(t,e,r){if(p.cmp(e,0)<1)return{ctor:"[]"};var n={ctor:"_Tuple2",_0:e,_1:r};t:do{e:do{if("_Tuple2"!==n.ctor)break t;if("[]"===n._1.ctor)return r;if("::"!==n._1._1.ctor){if(1===n._0)break e;break t}switch(n._0){case 1:break e;case 2:return{ctor:"::",_0:n._1._0,_1:{ctor:"::",_0:n._1._1._0,_1:{ctor:"[]"}}};case 3:if("::"===n._1._1._1.ctor)return{ctor:"::",_0:n._1._0,_1:{ctor:"::",_0:n._1._1._0,_1:{ctor:"::",_0:n._1._1._1._0,_1:{ctor:"[]"}}}};break t;default:if("::"===n._1._1._1.ctor&&"::"===n._1._1._1._1.ctor){var o=n._1._1._1._0,i=n._1._1._0,c=n._1._0,u=n._1._1._1._1._0,a=n._1._1._1._1._1;return p.cmp(t,1e3)>0?{ctor:"::",_0:c,_1:{ctor:"::",_0:i,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:u,_1:s($,e-4,a)}}}}:{ctor:"::",_0:c,_1:{ctor:"::",_0:i,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:u,_1:f(G,t+1,e-4,a)}}}}}break t}}while(!1);return{ctor:"::",_0:n._1._0,_1:{ctor:"[]"}}}while(!1);return r}),Y=(e(function(t,e){return f(G,0,t,e)}),r(function(t,e,r){for(;;){if(p.cmp(e,0)<1)return t;var n={ctor:"::",_0:r,_1:t},o=e-1,i=r;t=n,e=o,r=i}})),X=(e(function(t,e){return f(Y,{ctor:"[]"},t,e)}),r(function(t,e,r){for(;;){if(!(p.cmp(t,e)<1))return r;var n=t,o=e-1,i={ctor:"::",_0:e,_1:r};t=n,e=o,r=i}})),Z=e(function(t,e){return f(X,t,e,{ctor:"[]"})}),tt=(e(function(t,e){return f(O,t,s(Z,0,F(e)-1),e)}),function(){function t(t){return{ctor:"_Task_succeed",value:t}}function r(t){return{ctor:"_Task_fail",value:t}}function n(t){return{ctor:"_Task_nativeBinding",callback:t,cancel:null}}function o(t,e){return{ctor:"_Task_andThen",callback:t,task:e}}function i(t,e){return{ctor:"_Task_onError",callback:t,task:e}}function c(t){return{ctor:"_Task_receive",callback:t}}function u(t){var e={ctor:"_Process",id:p.guid(),root:t,stack:null,mailbox:[]};return h(e),e}function a(e){return n(function(r){r(t(u(e)))})}function s(t,e){t.mailbox.push(e),h(t)}function f(e,r){return n(function(n){s(e,r),n(t(p.Tuple0))})}function l(e){return n(function(r){var n=e.root;"_Task_nativeBinding"===n.ctor&&n.cancel&&n.cancel(),e.root=null,r(t(p.Tuple0))})}function _(e){return n(function(r){var n=setTimeout(function(){r(t(p.Tuple0))},e);return function(){clearTimeout(n)}})}function d(t,e){for(;t<m;){var r=e.root.ctor;if("_Task_succeed"!==r)if("_Task_fail"!==r)if("_Task_andThen"!==r)if("_Task_onError"!==r){if("_Task_nativeBinding"===r){e.root.cancel=e.root.callback(function(t){e.root=t,h(e)});break}if("_Task_receive"!==r)throw new Error(r);var n=e.mailbox;if(0===n.length)break;e.root=e.root.callback(n.shift()),++t}else e.stack={ctor:"_Task_onError",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else e.stack={ctor:"_Task_andThen",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else{for(;e.stack&&"_Task_andThen"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}else{for(;e.stack&&"_Task_onError"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}}return t<m?t+1:(h(e),t)}function h(t){y.push(t),g||(setTimeout(v,0),g=!0)}function v(){for(var t,e=0;e<m&&(t=y.shift());)t.root&&(e=d(e,t));if(!t)return void(g=!1);setTimeout(v,0)}var m=1e4,g=!1,y=[];return{succeed:t,fail:r,nativeBinding:n,andThen:e(o),onError:e(i),receive:c,spawn:a,kill:l,sleep:_,send:e(f),rawSpawn:u,rawSend:s}}()),et=function(){function t(t){return function(e){return function(e,r){e.worker=function(e){if(void 0!==e)throw new Error("The `"+r+"` module does not need flags.\nCall "+r+".worker() with no arguments and you should be all set!");return c(t.init,t.update,t.subscriptions,o)}}}}function n(t){return function(e){return function(r,n){r.worker=function(r){if(void 0===e)throw new Error("Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+n+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.");var i=s(mr.run,e,r);if("Err"===i.ctor)throw new Error(n+".worker(...) was called with an unexpected argument.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+i._0);return c(t.init(i._0),t.update,t.subscriptions,o)}}}}function o(t,e){return function(t){}}function i(t){var r=m(M.Nil),n=p.Tuple2(p.Tuple0,r);return Yn({init:n,view:function(t){return main},update:e(function(t,e){return n}),subscriptions:function(t){return r}})}function c(t,e,r,n){function o(t,n){return tt.nativeBinding(function(o){var i=s(e,t,n);n=i._0,c(n);var u=i._1,f=r(n);y(a,u,f),o(tt.succeed(n))})}function i(t){tt.rawSend(l,t)}var c,a={},f=tt.nativeBinding(function(e){var o=t._0;c=n(i,o);var u=t._1,s=r(o);y(a,u,s),e(tt.succeed(o))}),l=h(f,o),_=u(a,i);return _?{ports:_}:{}}function u(t,e){var r;for(var n in B){var o=B[n];o.isForeign&&(r=r||{},r[n]="cmd"===o.tag?x(n):S(n,e)),t[n]=a(o,e)}return r}function a(t,e){function r(t,e){if("self"===t.ctor)return f(c,n,t._0,e);var r=t._0;switch(o){case"cmd":return f(i,n,r.cmds,e);case"sub":return f(i,n,r.subs,e);case"fx":return l(i,n,r.cmds,r.subs,e)}}var n={main:e,self:void 0},o=t.tag,i=t.onEffects,c=t.onSelfMsg,u=h(t.init,r);return n.self=u,u}function _(t,e){return tt.nativeBinding(function(r){t.main(e),r(tt.succeed(p.Tuple0))})}function d(t,e){return s(tt.send,t.self,{ctor:"self",_0:e})}function h(t,e){function r(t){var o=tt.receive(function(r){return e(r,t)});return s(n,r,o)}var n=tt.andThen,o=s(n,r,t);return tt.rawSpawn(o)}function v(t){return function(e){return{type:"leaf",home:t,value:e}}}function m(t){return{type:"node",branches:t}}function g(t,e){return{type:"map",tagger:t,tree:e}}function y(t,e,r){var n={};b(!0,e,n,null),b(!1,r,n,null);for(var o in t){var i=o in n?n[o]:{cmds:M.Nil,subs:M.Nil};tt.rawSend(t[o],{ctor:"fx",_0:i})}}function b(t,e,r,n){switch(e.type){case"leaf":var o=e.home,i=w(t,o,n,e.value);return void(r[o]=k(t,i,r[o]));case"node":for(var c=e.branches;"[]"!==c.ctor;)b(t,c._0,r,n),c=c._1;return;case"map":return void b(t,e.tree,r,{tagger:e.tagger,rest:n})}}function w(t,e,r,n){function o(t){for(var e=r;e;)t=e.tagger(t),e=e.rest;return t}return s(t?B[e].cmdMap:B[e].subMap,o,n)}function k(t,e,r){return r=r||{cmds:M.Nil,subs:M.Nil},t?(r.cmds=M.Cons(e,r.cmds),r):(r.subs=M.Cons(e,r.subs),r)}function T(t){if(t in B)throw new Error("There can only be one port named `"+t+"`, but your program has multiple.")}function E(t,e){return T(t),B[t]={tag:"cmd",cmdMap:P,converter:e,isForeign:!0},v(t)}function x(t){function e(t,e,r){for(;"[]"!==e.ctor;){for(var n=i,o=c(e._0),a=0;a<n.length;a++)n[a](o);e=e._1}return u}function n(t){i.push(t)}function o(t){i=i.slice();var e=i.indexOf(t);e>=0&&i.splice(e,1)}var i=[],c=B[t].converter,u=tt.succeed(null);return B[t].init=u,B[t].onEffects=r(e),{subscribe:n,unsubscribe:o}}function N(t,e){return T(t),B[t]={tag:"sub",subMap:A,converter:e,isForeign:!0},v(t)}function S(t,e){function n(t,e,r){for(var n=o(t,e,r),i=0;i<f.length;i++)u(f[i]);return f=null,h=u,d=o,n}function o(t,e,r){return l=e,v}function i(t,e,r){return d(t,e,r)}function c(t){f.push(t)}function u(t){for(var r=l;"[]"!==r.ctor;)e(r._0(t)),r=r._1}function a(e){var r=s(Yr,_,e);if("Err"===r.ctor)throw new Error("Trying to send an unexpected type of value through port `"+t+"`:\n"+r._0);h(r._0)}var f=[],l=M.Nil,_=B[t].converter,d=n,h=c,v=tt.succeed(null);return B[t].init=v,B[t].onEffects=r(i),{send:a}}var B={},P=e(function(t,e){return e}),A=e(function(t,e){return function(r){return t(e(r))}});return{sendToApp:e(_),sendToSelf:e(d),effectManagers:B,outgoingPort:E,incomingPort:N,htmlToProgram:i,program:t,programWithFlags:n,initialize:c,leaf:v,batch:m,map:e(g)}}(),rt=et.batch,nt=rt({ctor:"[]"}),ot=ot||{};ot["!"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:rt(e)}});var it=(et.map,et.batch),ct=it({ctor:"[]"}),ut=(et.map,tt.succeed,et.sendToSelf),at=et.sendToApp,st=(et.programWithFlags,et.program,e(function(t,e){var r=e;return"Ok"===r.ctor?r._0:t})),ft=function(t){return{ctor:"Err",_0:t}},lt=(e(function(t,e){var r=e;return"Ok"===r.ctor?t(r._0):ft(r._0)}),function(t){return{ctor:"Ok",_0:t}}),_t=(e(function(t,e){var r=e;return"Ok"===r.ctor?lt(t(r._0)):ft(r._0)}),r(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};return"Ok"===n._0.ctor?"Ok"===n._1.ctor?lt(s(t,n._0._0,n._1._0)):ft(n._1._0):ft(n._0._0)}),n(function(t,e,r,n){var o={ctor:"_Tuple3",_0:e,_1:r,_2:n};return"Ok"===o._0.ctor?"Ok"===o._1.ctor?"Ok"===o._2.ctor?lt(f(t,o._0._0,o._1._0,o._2._0)):ft(o._2._0):ft(o._1._0):ft(o._0._0)}),o(function(t,e,r,n,o){var i={ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o};return"Ok"===i._0.ctor?"Ok"===i._1.ctor?"Ok"===i._2.ctor?"Ok"===i._3.ctor?lt(l(t,i._0._0,i._1._0,i._2._0,i._3._0)):ft(i._3._0):ft(i._2._0):ft(i._1._0):ft(i._0._0)}),i(function(t,e,r,n,o,i){var c={ctor:"_Tuple5",_0:e,_1:r,_2:n,_3:o,_4:i};return"Ok"===c._0.ctor?"Ok"===c._1.ctor?"Ok"===c._2.ctor?"Ok"===c._3.ctor?"Ok"===c._4.ctor?lt(_(t,c._0._0,c._1._0,c._2._0,c._3._0,c._4._0)):ft(c._4._0):ft(c._3._0):ft(c._2._0):ft(c._1._0):ft(c._0._0)}),e(function(t,e){var r=e;return"Ok"===r.ctor?lt(r._0):ft(t(r._0))}),e(function(t,e){var r=e;return"Just"===r.ctor?lt(r._0):ft(t)}),tt.onError),dt=tt.andThen,ht=e(function(t,e){var r=e;return tt.spawn(s(dt,at(t),r._0))}),vt=tt.fail,pt=(e(function(t,e){return s(_t,function(e){return vt(t(e))},e)}),tt.succeed),mt=e(function(t,e){return s(dt,function(e){return pt(t(e))},e)}),gt=r(function(t,e,r){return s(dt,function(e){return s(dt,function(r){return pt(s(t,e,r))},r)},e)}),yt=(n(function(t,e,r,n){return s(dt,function(e){return s(dt,function(r){return s(dt,function(n){return pt(f(t,e,r,n))},n)},r)},e)}),o(function(t,e,r,n,o){return s(dt,function(e){return s(dt,function(r){return s(dt,function(n){return s(dt,function(o){return pt(l(t,e,r,n,o))},o)},n)},r)},e)}),i(function(t,e,r,n,o,i){return s(dt,function(e){return s(dt,function(r){return s(dt,function(n){return s(dt,function(o){return s(dt,function(i){return pt(_(t,e,r,n,o,i))},i)},o)},n)},r)},e)}),function(t){var r=t;return"[]"===r.ctor?pt({ctor:"[]"}):f(gt,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),r._0,yt(r._1))}),bt=r(function(t,e,r){return s(mt,function(t){return{ctor:"_Tuple0"}},yt(s(J,ht(t),e)))}),wt=pt({ctor:"_Tuple0"}),kt=r(function(t,e,r){return pt({ctor:"_Tuple0"})}),Tt=et.leaf("Task"),Et=function(t){return{ctor:"Perform",_0:t}},xt=e(function(t,e){return Tt(Et(s(mt,t,e)))}),Nt=(e(function(t,e){return Tt(Et(s(_t,function(e){return pt(t(ft(e)))},s(dt,function(e){return pt(t(lt(e)))},e))))}),e(function(t,e){return Et(s(mt,t,e._0))}));et.effectManagers.Task={pkg:"elm-lang/core",init:wt,onEffects:bt,onSelfMsg:kt,tag:"cmd",cmdMap:Nt};var St=function(){function t(t,e){var r=t+": "+p.toString(e),n=n||{};return n.stdout?n.stdout.write(r):console.log(r),e}function r(t){throw new Error(t)}return{crash:r,log:e(t)}}(),Bt=function(){function t(t){return 0===t.length}function n(t,e){return t+e}function o(t){var e=t[0];return e?A(p.Tuple2(p.chr(e),t.slice(1))):B}function i(t,e){return t+e}function c(t){return M.toArray(t).join("")}function u(t){return t.length}function a(t,e){for(var r=e.split(""),n=r.length;n--;)r[n]=t(p.chr(r[n]));return r.join("")}function f(t,e){return e.split("").map(p.chr).filter(t).join("")}function l(t){return t.split("").reverse().join("")}function _(t,e,r){for(var n=r.length,o=0;o<n;++o)e=s(t,p.chr(r[o]),e);return e}function d(t,e,r){for(var n=r.length;n--;)e=s(t,p.chr(r[n]),e);return e}function h(t,e){return M.fromArray(e.split(t))}function v(t,e){return M.toArray(e).join(t)}function m(t,e){for(var r="";t>0;)1&t&&(r+=e),t>>=1,e+=e;return r}function g(t,e,r){return r.slice(t,e)}function y(t,e){return t<1?"":e.slice(0,t)}function b(t,e){return t<1?"":e.slice(-t)}function w(t,e){return t<1?e:e.slice(t)}function k(t,e){return t<1?e:e.slice(0,-t)}function T(t,e,r){var n=(t-r.length)/2;return m(Math.ceil(n),e)+r+m(0|n,e)}function E(t,e,r){return r+m(t-r.length,e)}function x(t,e,r){return m(t-r.length,e)+r}function N(t){return t.trim()}function S(t){return t.replace(/^\s+/,"")}function P(t){return t.replace(/\s+$/,"")}function D(t){return M.fromArray(t.trim().split(/\s+/g))}function I(t){return M.fromArray(t.split(/\r\n|\r|\n/g))}function O(t){return t.toUpperCase()}function R(t){return t.toLowerCase()}function C(t,e){for(var r=e.length;r--;)if(t(p.chr(e[r])))return!0;return!1}function j(t,e){for(var r=e.length;r--;)if(!t(p.chr(e[r])))return!1;return!0}function F(t,e){return e.indexOf(t)>-1}function q(t,e){return 0===e.indexOf(t)}function L(t,e){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}function U(t,e){var r=t.length;if(r<1)return M.Nil;for(var n=0,o=[];(n=e.indexOf(t,n))>-1;)o.push(n),n+=r;return M.fromArray(o)}function J(t){var e=t.length;if(0===e)return K(t);var r=t[0];if("0"===r&&"x"===t[1]){for(var n=2;n<e;++n){var r=t[n];if(!("0"<=r&&r<="9"||"A"<=r&&r<="F"||"a"<=r&&r<="f"))return K(t)}return lt(parseInt(t,16))}if(r>"9"||r<"0"&&"-"!==r&&"+"!==r)return K(t);for(var n=1;n<e;++n){var r=t[n];if(r<"0"||"9"<r)return K(t)}return lt(parseInt(t,10))}function K(t){return ft("could not convert string '"+t+"' to an Int")}function Q(t){if(0===t.length||/[\sxbo]/.test(t))return W(t);var e=+t;return e===e?lt(e):W(t)}function W(t){return ft("could not convert string '"+t+"' to a Float")}function z(t){return M.fromArray(t.split("").map(p.chr))}function H(t){return M.toArray(t).join("")}return{isEmpty:t,cons:e(n),uncons:o,append:e(i),concat:c,length:u,map:e(a),filter:e(f),reverse:l,foldl:r(_),foldr:r(d),split:e(h),join:e(v),repeat:e(m),slice:r(g),left:e(y),right:e(b),dropLeft:e(w),dropRight:e(k),pad:r(T),padLeft:r(x),padRight:r(E),trim:N,trimLeft:S,trimRight:P,words:D,lines:I,toUpper:O,toLower:R,any:e(C),all:e(j),contains:e(F),startsWith:e(q),endsWith:e(L),indexes:e(U),toInt:J,toFloat:Q,toList:z,fromList:H}}(),Pt=function(){return{fromCode:function(t){return p.chr(String.fromCharCode(t))},toCode:function(t){return t.charCodeAt(0)},toUpper:function(t){return p.chr(t.toUpperCase())},toLower:function(t){return p.chr(t.toLowerCase())},toLocaleUpper:function(t){return p.chr(t.toLocaleUpperCase())},toLocaleLower:function(t){return p.chr(t.toLocaleLowerCase())}}}(),At=(Pt.fromCode,Pt.toCode),Dt=(Pt.toLocaleLower,Pt.toLocaleUpper,Pt.toLower,Pt.toUpper,r(function(t,e,r){var n=At(r);return p.cmp(n,At(t))>-1&&p.cmp(n,At(e))<1})),Mt=(s(Dt,p.chr("A"),p.chr("Z")),s(Dt,p.chr("a"),p.chr("z")),s(Dt,p.chr("0"),p.chr("9"))),It=(s(Dt,p.chr("0"),p.chr("7")),Bt.fromList,Bt.toList,Bt.toFloat),Ot=Bt.toInt,Rt=(Bt.indexes,Bt.indexes,Bt.endsWith,Bt.startsWith,Bt.contains,Bt.all,Bt.any,Bt.toLower),Ct=(Bt.toUpper,Bt.lines,Bt.words,Bt.trimRight,Bt.trimLeft,Bt.trim,Bt.padRight,Bt.padLeft,Bt.pad,Bt.dropRight,Bt.dropLeft,Bt.right,Bt.left,Bt.slice,Bt.repeat,Bt.join),jt=(Bt.split,Bt.foldr,Bt.foldl,Bt.reverse,Bt.filter),Ft=(Bt.map,Bt.length,Bt.concat),qt=(Bt.append,Bt.uncons,Bt.cons,Bt.isEmpty,r(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return e;var o=t,i=f(t,n._1,n._2,f(qt,t,e,n._4)),c=n._3;t=o,e=i,r=c}})),Lt=function(t){return f(qt,r(function(t,e,r){return{ctor:"::",_0:{ctor:"_Tuple2",_0:t,_1:e},_1:r}}),{ctor:"[]"},t)},Ut=r(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return e;var o=t,i=f(t,n._1,n._2,f(Ut,t,e,n._3)),c=n._4;t=o,e=i,r=c}}),Jt=i(function(t,n,o,i,c,u){var a=r(function(e,r,i){for(;;){var c=i,u=c._1,a=c._0,s=a;if("[]"===s.ctor)return{ctor:"_Tuple2",_0:a,_1:f(o,e,r,u)};var _=s._1,d=s._0._1,h=s._0._0;if(!(p.cmp(h,e)<0))return p.cmp(h,e)>0?{ctor:"_Tuple2",_0:a,_1:f(o,e,r,u)}:{ctor:"_Tuple2",_0:_,_1:l(n,h,d,r,u)};var v=e,m=r,g={ctor:"_Tuple2",_0:_,_1:f(t,h,d,u)};e=v,r=m,i=g}}),s=f(Ut,a,{ctor:"_Tuple2",_0:Lt(i),_1:u},c),_=s._0,d=s._1;return f(j,e(function(e,r){var n=e;return f(t,n._0,n._1,r)}),d,_)}),Kt=n(function(t,e,r,n){return St.crash(Ft({ctor:"::",_0:"Internal red-black tree invariant violated, expected ",_1:{ctor:"::",_0:t,_1:{ctor:"::",_0:" and got ",_1:{ctor:"::",_0:y(e),_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:r,_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:n,_1:{ctor:"::",_0:"\nPlease report this bug to <https://github.com/elm-lang/core/issues>",_1:{ctor:"[]"}}}}}}}}}}))}),Qt=function(t){var e=t;t:do{if("RBNode_elm_builtin"===e.ctor){if("BBlack"===e._0.ctor)return!0;break t}if("LBBlack"===e._0.ctor)return!0;break t}while(!1);return!1},Wt=e(function(t,e){for(;;){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return t;var n=s(Wt,t+1,r._4),o=r._3;t=n,e=o}}),zt=e(function(t,e){t:for(;;){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return B;var n=s(k,t,r._1);switch(n.ctor){case"LT":var o=t,i=r._3;t=o,e=i;continue t;case"EQ":return A(r._2);default:var c=t,u=r._4;t=c,e=u;continue t}}}),Ht=e(function(t,e){return"Just"===s(zt,t,e).ctor}),Vt=r(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return{ctor:"_Tuple2",_0:t,_1:e};var o=n._1,i=n._2,c=n._4;t=o,e=i,r=c}}),$t={ctor:"NBlack"},Gt={ctor:"BBlack"},Yt={ctor:"Black"},Xt=function(t){var e=t;if("RBNode_elm_builtin"===e.ctor){var r=e._0;return p.eq(r,Yt)||p.eq(r,Gt)}return!0},Zt={ctor:"Red"},te=function(t){switch(t.ctor){case"Black":return Gt;case"Red":return Yt;case"NBlack":return Zt;default:return St.crash("Can't make a double black node more black!")}},ee=function(t){switch(t.ctor){case"BBlack":return Yt;case"Black":return Zt;case"Red":return $t;default:return St.crash("Can't make a negative black node less black!")}},re={ctor:"LBBlack"},ne={ctor:"LBlack"},oe=function(t){return{ctor:"RBEmpty_elm_builtin",_0:t}},ie=oe(ne),ce=o(function(t,e,r,n,o){return{ctor:"RBNode_elm_builtin",_0:t,_1:e,_2:r,_3:n,_4:o}}),ue=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor&&"Red"===e._0.ctor?_(ce,Yt,e._1,e._2,e._3,e._4):t},ae=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor?_(ce,ee(e._0),e._1,e._2,e._3,e._4):oe(ne)},se=function(t){return function(e){return function(r){return function(n){return function(o){return function(i){return function(c){return function(u){return function(a){return function(s){return function(f){return _(ce,ee(t),n,o,_(ce,Yt,e,r,u,a),_(ce,Yt,i,c,s,f))}}}}}}}}}}},fe=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?oe(ne):_(ce,Yt,e._1,e._2,e._3,e._4)},le=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?St.crash("can't make a Leaf red"):_(ce,Zt,e._1,e._2,e._3,e._4)},_e=function(t){var e=t;t:do{e:do{r:do{n:do{o:do{i:do{c:do{if("RBNode_elm_builtin"!==e.ctor)break t;if("RBNode_elm_builtin"===e._3.ctor)if("RBNode_elm_builtin"===e._4.ctor)switch(e._3._0.ctor){case"Red":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;break t}case"NBlack":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;case"NBlack":if("BBlack"===e._0.ctor){if("RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;if("RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}break t;default:if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}default:switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:break t}}else switch(e._3._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;default:break t}else{if("RBNode_elm_builtin"!==e._4.ctor)break t;switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:break t}}}while(!1);return se(e._0)(e._3._3._1)(e._3._3._2)(e._3._1)(e._3._2)(e._1)(e._2)(e._3._3._3)(e._3._3._4)(e._3._4)(e._4)}while(!1);return se(e._0)(e._3._1)(e._3._2)(e._3._4._1)(e._3._4._2)(e._1)(e._2)(e._3._3)(e._3._4._3)(e._3._4._4)(e._4)}while(!1);return se(e._0)(e._1)(e._2)(e._4._3._1)(e._4._3._2)(e._4._1)(e._4._2)(e._3)(e._4._3._3)(e._4._3._4)(e._4._4)}while(!1);return se(e._0)(e._1)(e._2)(e._4._1)(e._4._2)(e._4._4._1)(e._4._4._2)(e._3)(e._4._3)(e._4._4._3)(e._4._4._4)}while(!1);return _(ce,Yt,e._4._3._1,e._4._3._2,_(ce,Yt,e._1,e._2,e._3,e._4._3._3),_(de,Yt,e._4._1,e._4._2,e._4._3._4,le(e._4._4)))}while(!1);return _(ce,Yt,e._3._4._1,e._3._4._2,_(de,Yt,e._3._1,e._3._2,le(e._3._3),e._3._4._3),_(ce,Yt,e._1,e._2,e._3._4._4,e._4))}while(!1);return t},de=o(function(t,e,r,n,o){var i=_(ce,t,e,r,n,o);return Xt(i)?_e(i):i}),he=o(function(t,e,r,n,o){return Qt(n)||Qt(o)?_(de,te(t),e,r,ae(n),ae(o)):_(ce,t,e,r,n,o)}),ve=o(function(t,e,r,n,o){var i=o;return"RBEmpty_elm_builtin"===i.ctor?f(pe,t,n,o):_(he,t,e,r,n,_(ve,i._0,i._1,i._2,i._3,i._4))}),pe=r(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};if("RBEmpty_elm_builtin"!==n._0.ctor){if("RBEmpty_elm_builtin"===n._1.ctor){var o=n._1._0,i=n._0._0,c={ctor:"_Tuple3",_0:t,_1:i,_2:o};return"_Tuple3"===c.ctor&&"Black"===c._0.ctor&&"Red"===c._1.ctor&&"LBlack"===c._2.ctor?_(ce,Yt,n._0._1,n._0._2,n._0._3,n._0._4):l(Kt,"Black/Red/LBlack",t,y(i),y(o))}var u=n._0._2,a=n._0._4,s=n._0._1,d=_(ve,n._0._0,s,u,n._0._3,a),h=f(Vt,s,u,a),v=h._0,p=h._1;return _(he,t,v,p,d,r)}if("RBEmpty_elm_builtin"!==n._1.ctor){var m=n._1._0,g=n._0._0,b={ctor:"_Tuple3",_0:t,_1:g,_2:m};return"_Tuple3"===b.ctor&&"Black"===b._0.ctor&&"LBlack"===b._1.ctor&&"Red"===b._2.ctor?_(ce,Yt,n._1._1,n._1._2,n._1._3,n._1._4):l(Kt,"Black/LBlack/Red",t,y(g),y(m))}switch(t.ctor){case"Red":return oe(ne);case"Black":return oe(re);default:return St.crash("cannot have bblack or nblack nodes at this point")}}),me=e(function(t,e){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return oe(ne);var n=r._1;return _(ce,r._0,n,s(t,n,r._2),s(me,t,r._3),s(me,t,r._4))}),ge={ctor:"Same"},ye={ctor:"Remove"},be={ctor:"Insert"},we=r(function(t,e,r){var n=function(r){var o=r;if("RBEmpty_elm_builtin"===o.ctor){var i=e(B);return"Nothing"===i.ctor?{ctor:"_Tuple2",_0:ge,_1:ie}:{ctor:"_Tuple2",_0:be,_1:_(ce,Zt,t,i._0,ie,ie)}}var c=o._2,u=o._4,a=o._3,l=o._1,d=o._0;switch(s(k,t,l).ctor){case"EQ":var h=e(A(c));return"Nothing"===h.ctor?{ctor:"_Tuple2",_0:ye,_1:f(pe,d,a,u)}:{ctor:"_Tuple2",_0:ge,_1:_(ce,d,l,h._0,a,u)};case"LT":var v=n(a),p=v._0,m=v._1;switch(p.ctor){case"Same":return{ctor:"_Tuple2",_0:ge,_1:_(ce,d,l,c,m,u)};case"Insert":return{ctor:"_Tuple2",_0:be,_1:_(de,d,l,c,m,u)};default:return{ctor:"_Tuple2",_0:ye,_1:_(he,d,l,c,m,u)}}default:var g=n(u),p=g._0,y=g._1;switch(p.ctor){case"Same":return{ctor:"_Tuple2",_0:ge,_1:_(ce,d,l,c,a,y)};case"Insert":return{ctor:"_Tuple2",_0:be,_1:_(de,d,l,c,a,y)};default:return{ctor:"_Tuple2",_0:ye,_1:_(he,d,l,c,a,y)}}}},o=n(r),i=o._0,c=o._1;switch(i.ctor){case"Same":return c;case"Insert":return ue(c);default:return fe(c)}}),ke=r(function(t,e,r){return f(we,t,m(A(e)),r)}),Te=(e(function(t,e){return f(ke,t,e,ie)}),e(function(t,e){return f(Ut,ke,e,t)}),e(function(t,e){var n=r(function(e,r,n){return s(t,e,r)?f(ke,e,r,n):n});return f(Ut,n,ie,e)})),Ee=(e(function(t,r){return s(Te,e(function(t,e){return s(Ht,t,r)}),t)}),e(function(t,e){var n=r(function(e,r,n){var o=n,i=o._1,c=o._0;return s(t,e,r)?{ctor:"_Tuple2",_0:f(ke,e,r,c),_1:i}:{ctor:"_Tuple2",_0:c,_1:f(ke,e,r,i)}});return f(Ut,n,{ctor:"_Tuple2",_0:ie,_1:ie},e)}),e(function(t,e){return f(we,t,m(B),e)})),xe=(e(function(t,e){return f(Ut,r(function(t,e,r){return s(Ee,t,r)}),t,e)}),function(){function t(t,e){return tt.nativeBinding(function(r){var n=setInterval(function(){tt.rawSpawn(e)},t);return function(){clearInterval(n)}})}return{now:tt.nativeBinding(function(t){t(tt.succeed(Date.now()))}),setInterval_:e(t)}}()),Ne=xe.setInterval_,Se=r(function(t,e,r){var n=e;if("[]"===n.ctor)return pt(r);var o=n._0,i=function(e){return f(Se,t,n._1,f(ke,o,e,r))},c=tt.spawn(s(Ne,o,s(ut,t,o)));return s(dt,i,c)}),Be=e(function(t,e){var r=t,n=r._1,o=r._0,i=s(zt,o,e);return"Nothing"===i.ctor?f(ke,o,{ctor:"::",_0:n,_1:{ctor:"[]"}},e):f(ke,o,{ctor:"::",_0:n,_1:i._0},e)}),Pe=function(t){return t/36e5},Ae=xe.now,De=r(function(t,e,r){var n=s(zt,e,r.taggers);if("Nothing"===n.ctor)return pt(r);var o=function(e){return yt(s(J,function(r){return s(at,t,r(e))},n._0))};return s(dt,function(t){return pt(r)},s(dt,o,Ae))}),Me=et.leaf("Time"),Ie=e(function(t,e){return{taggers:t,processes:e}}),Oe=pt(s(Ie,ie,ie)),Re=r(function(t,e,o){var i=o,c=r(function(t,e,r){var n=r;return{ctor:"_Tuple3",_0:n._0,_1:n._1,_2:s(dt,function(t){return n._2},tt.kill(e))}}),u=n(function(t,e,r,n){var o=n;return{ctor:"_Tuple3",_0:o._0,_1:f(ke,t,r,o._1),_2:o._2}}),a=r(function(t,e,r){var n=r;return{ctor:"_Tuple3",_0:{ctor:"::",_0:t,_1:n._0},_1:n._1,_2:n._2}}),l=f(j,Be,ie,e),_=d(Jt,a,u,c,l,i.processes,{ctor:"_Tuple3",_0:{ctor:"[]"},_1:ie,_2:pt({ctor:"_Tuple0"})}),h=_._0,v=_._1,p=_._2;return s(dt,function(t){return pt(s(Ie,l,t))},s(dt,function(e){return f(Se,t,h,v)},p))}),Ce=e(function(t,e){return{ctor:"Every",_0:t,_1:e}}),je=(e(function(t,e){return Me(s(Ce,t,e))}),e(function(t,e){var r=e;return s(Ce,r._0,function(e){return t(r._1(e))})}));et.effectManagers.Time={pkg:"elm-lang/core",init:Oe,onEffects:Re,onSelfMsg:De,tag:"sub",subMap:je};var Fe,qe=h.millisecond,Le=h.second,Ue=h.minute,Je=h.hour,Ke=(h.dayOfWeek,h.day),Qe=h.month,We=h.year,ze=h.fromTime,He=h.toTime,Ve=h.fromString,$e=s(mt,ze,Ae),Ge=(St.crash,St.log,e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:t(r._1)}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:r._1}}),{name:B,quantity:B}),Ye={itemType:B,editableData:Ge,saveAsDefaults:!1},Xe={food:Ge,heartwormMedicine:Ge,fleaTickMedicine:Ge},Ze=(e(function(t,e){return{eventType:t.eventType,itemType:t.itemType,itemName:t.itemName,quantity:e,timestamp:t.timestamp,id:t.id}}),e(function(t,e){return{eventType:t.eventType,itemType:t.itemType,itemName:e,quantity:t.quantity,timestamp:t.timestamp,id:t.id}}),c(function(t,e,r,n,o,i,c){return{settings:t,events:e,error:r,pendingEvent:n,defaultPurchases:o,now:i,eventToEdit:c}}),i(function(t,e,r,n,o,i){return{id:t,eventType:e,itemType:r,itemName:n,quantity:o,timestamp:i}})),tr=(r(function(t,e,r){return{itemType:t,editableData:e,saveAsDefaults:r}}),r(function(t,e,r){return{food:t,heartwormMedicine:e,fleaTickMedicine:r}})),er=e(function(t,e){return{name:t,quantity:e}}),rr=o(function(t,e,r,n,o){return{dogName:t,unitSystem:e,dogFoodPerDay:r,heartwormMedicineInterval:n,fleaTickMedicineInterval:o}}),nr={ctor:"AdministerEvent"},or=r(function(t,e,r){return{eventType:nr,itemType:t,itemName:e,quantity:1,timestamp:r,id:B}}),ir={ctor:"PurchaseEvent"},cr={ctor:"Food"},ur={ctor:"FleaTickMedicine"},ar={ctor:"HeartwormMedicine"},sr={ctor:"Imperial"},fr={ctor:"Metric"},lr=function(t){return p.eq(t,y(sr))?sr:fr},_r={dogName:B,unitSystem:fr,dogFoodPerDay:B,heartwormMedicineInterval:B,fleaTickMedicineInterval:B},dr={settings:_r,events:{ctor:"[]"},error:"",pendingEvent:Ye,defaultPurchases:Xe,now:ze(0),eventToEdit:B},hr=function(){function t(t,e){if(t<0||t>=j(e))throw new Error("Index "+t+" is out of range. Check the length of your array first or use getMaybe or getWithDefault.");return n(t,e)}function n(t,e){for(var r=e.height;r>0;r--){for(var n=t>>5*r;e.lengths[n]<=t;)n++;n>0&&(t-=e.lengths[n-1]),e=e.table[n]}return e.table[t]}function o(t,e,r){return t<0||j(r)<=t?r:i(t,e,r)}function i(t,e,r){if(r=C(r),0===r.height)r.table[t]=e;else{var n=F(t,r);n>0&&(t-=r.lengths[n-1]),r.table[n]=i(t,e,r.table[n])}return r}function c(t,e){return t<=0?V:u(e,Math.floor(Math.log(t)/Math.log(z)),0,t)}function u(t,e,r,n){if(0===e){for(var o=new Array((n-r)%(z+1)),i=0;i<o.length;i++)o[i]=t(r+i);return{ctor:"_Array",height:0,table:o}}for(var c=Math.pow(z,e),o=new Array(Math.ceil((n-r)/c)),a=new Array(o.length),i=0;i<o.length;i++)o[i]=u(t,e-1,r+i*c,Math.min(r+(i+1)*c,n)),a[i]=j(o[i])+(i>0?a[i-1]:0);return{ctor:"_Array",height:e,table:o,lengths:a}}function a(t){if("[]"===t.ctor)return V;for(var e=new Array(z),r=[],n=0;"[]"!==t.ctor;)if(e[n]=t._0,t=t._1,++n===z){var o={ctor:"_Array",height:0,table:e};f(o,r),e=new Array(z),n=0}if(n>0){var o={ctor:"_Array",height:0,table:e.splice(0,n)};f(o,r)}for(var i=0;i<r.length-1;i++)r[i].table.length>0&&f(r[i],r);var c=r[r.length-1];return c.height>0&&1===c.table.length?c.table[0]:c}function f(t,e){var r=t.height;if(e.length===r){var n={ctor:"_Array",height:r+1,table:[],lengths:[]};e.push(n)}e[r].table.push(t);var o=j(t);e[r].lengths.length>0&&(o+=e[r].lengths[e[r].lengths.length-1]),e[r].lengths.push(o),e[r].table.length===z&&(f(e[r],e),e[r]={ctor:"_Array",height:r+1,table:[],lengths:[]})}function l(t,e){var r=_(t,e);return null!==r?r:U(e,q(t,e.height))}function _(t,e){if(0===e.height){if(e.table.length<z){var r={ctor:"_Array",height:0,table:e.table.slice()};return r.table.push(t),r}return null}var n=_(t,O(e));if(null!==n){var r=C(e);return r.table[r.table.length-1]=n,r.lengths[r.lengths.length-1]++,r}if(e.table.length<z){var o=q(t,e.height-1),r=C(e);return r.table.push(o),r.lengths.push(r.lengths[r.lengths.length-1]+j(o)),r}return null}function d(t){return h(M.Nil,t)}function h(t,e){for(var r=e.table.length-1;r>=0;r--)t=0===e.height?M.Cons(e.table[r],t):h(t,e.table[r]);return t}function v(t,e){var r={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(r.lengths=e.lengths);for(var n=0;n<e.table.length;n++)r.table[n]=0===e.height?t(e.table[n]):v(t,e.table[n]);return r}function p(t,e){return m(t,e,0)}function m(t,e,r){var n={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(n.lengths=e.lengths);for(var o=0;o<e.table.length;o++)n.table[o]=0===e.height?s(t,r+o,e.table[o]):m(t,e.table[o],0==o?r:r+e.lengths[o-1]);return n}function g(t,e,r){if(0===r.height)for(var n=0;n<r.table.length;n++)e=s(t,r.table[n],e);else for(var n=0;n<r.table.length;n++)e=g(t,e,r.table[n]);return e}function y(t,e,r){if(0===r.height)for(var n=r.table.length;n--;)e=s(t,r.table[n],e);else for(var n=r.table.length;n--;)e=y(t,e,r.table[n]);return e}function b(t,e,r){return t<0&&(t+=j(r)),e<0&&(e+=j(r)),k(t,w(e,r))}function w(t,e){if(t===j(e))return e;if(0===e.height){var r={ctor:"_Array",height:0};return r.table=e.table.slice(0,t),r}var n=F(t,e),o=w(t-(n>0?e.lengths[n-1]:0),e.table[n]);if(0===n)return o;var r={ctor:"_Array",height:e.height,table:e.table.slice(0,n),lengths:e.lengths.slice(0,n)};return o.table.length>0&&(r.table[n]=o,r.lengths[n]=j(o)+(n>0?r.lengths[n-1]:0)),r}function k(t,e){if(0===t)return e;if(0===e.height){var r={ctor:"_Array",height:0};return r.table=e.table.slice(t,e.table.length+1),r}var n=F(t,e),o=k(t-(n>0?e.lengths[n-1]:0),e.table[n]);if(n===e.table.length-1)return o;var r={ctor:"_Array",height:e.height,table:e.table.slice(n,e.table.length+1),lengths:new Array(e.table.length-n)};r.table[0]=o;for(var i=0,c=0;c<r.table.length;c++)i+=j(r.table[c]),r.lengths[c]=i;return r}function T(t,e){if(0===t.table.length)return e;if(0===e.table.length)return t;var r=E(t,e);if(r[0].table.length+r[1].table.length<=z){if(0===r[0].table.length)return r[1];if(0===r[1].table.length)return r[0];if(r[0].table=r[0].table.concat(r[1].table),r[0].height>0){for(var n=j(r[0]),o=0;o<r[1].lengths.length;o++)r[1].lengths[o]+=n;r[0].lengths=r[0].lengths.concat(r[1].lengths)}return r[0]}if(r[0].height>0){var i=S(t,e);i>H&&(r=I(r[0],r[1],i))}return U(r[0],r[1])}function E(t,e){if(0===t.height&&0===e.height)return[t,e];if(1!==t.height||1!==e.height)if(t.height===e.height){t=C(t),e=C(e);var r=E(O(t),R(e));x(t,r[1]),N(e,r[0])}else if(t.height>e.height){t=C(t);var r=E(O(t),e);x(t,r[0]),e=L(r[1],r[1].height+1)}else{e=C(e);var r=E(t,R(e)),n=0===r[0].table.length?0:1,o=0===n?1:0;N(e,r[n]),t=L(r[o],r[o].height+1)}if(0===t.table.length||0===e.table.length)return[t,e];var i=S(t,e);return i<=H?[t,e]:I(t,e,i)}function x(t,e){var r=t.table.length-1;t.table[r]=e,t.lengths[r]=j(e),t.lengths[r]+=r>0?t.lengths[r-1]:0}function N(t,e){if(e.table.length>0){t.table[0]=e,t.lengths[0]=j(e);for(var r=j(t.table[0]),n=1;n<t.lengths.length;n++)r+=j(t.table[n]),t.lengths[n]=r}else{t.table.shift();for(var n=1;n<t.lengths.length;n++)t.lengths[n]=t.lengths[n]-t.lengths[0];t.lengths.shift()}}function S(t,e){for(var r=0,n=0;n<t.table.length;n++)r+=t.table[n].table.length;for(var n=0;n<e.table.length;n++)r+=e.table[n].table.length;return t.table.length+e.table.length-(Math.floor((r-1)/z)+1)}function B(t,e,r){return r<t.length?t[r]:e[r-t.length]}function P(t,e,r,n){r<t.length?t[r]=n:e[r-t.length]=n}function A(t,e,r,n){P(t.table,e.table,r,n);var o=0===r||r===t.lengths.length?0:B(t.lengths,t.lengths,r-1);P(t.lengths,e.lengths,r,o+j(n))}function D(t,e){e<0&&(e=0);var r={ctor:"_Array",height:t,table:new Array(e)};return t>0&&(r.lengths=new Array(e)),r}function I(t,e,r){for(var n=D(t.height,Math.min(z,t.table.length+e.table.length-r)),o=D(t.height,n.table.length-(t.table.length+e.table.length-r)),i=0;B(t.table,e.table,i).table.length%z==0;)P(n.table,o.table,i,B(t.table,e.table,i)),P(n.lengths,o.lengths,i,B(t.lengths,e.lengths,i)),i++;for(var c=i,u=new D(t.height-1,0),a=0;i-c-(u.table.length>0?1:0)<r;){var s=B(t.table,e.table,i),f=Math.min(z-u.table.length,s.table.length);if(u.table=u.table.concat(s.table.slice(a,f)),u.height>0)for(var l=u.lengths.length,_=l;_<l+f-a;_++)u.lengths[_]=j(u.table[_]),u.lengths[_]+=_>0?u.lengths[_-1]:0;a+=f,s.table.length<=f&&(i++,a=0),u.table.length===z&&(A(n,o,c,u),u=D(t.height-1,0),c++)}for(u.table.length>0&&(A(n,o,c,u),c++);i<t.table.length+e.table.length;)A(n,o,c,B(t.table,e.table,i)),i++,c++;return[n,o]}function O(t){return t.table[t.table.length-1]}function R(t){return t.table[0]}function C(t){var e={ctor:"_Array",height:t.height,table:t.table.slice()};return t.height>0&&(e.lengths=t.lengths.slice()),e}function j(t){return 0===t.height?t.table.length:t.lengths[t.lengths.length-1]}function F(t,e){for(var r=t>>5*e.height;e.lengths[r]<=t;)r++;return r}function q(t,e){return 0===e?{ctor:"_Array",height:0,table:[t]}:{ctor:"_Array",height:e,table:[q(t,e-1)],lengths:[1]}}function L(t,e){return e===t.height?t:{ctor:"_Array",height:e,table:[L(t,e-1)],lengths:[j(t)]}}function U(t,e){return{ctor:"_Array",height:t.height+1,table:[t,e],lengths:[j(t),j(t)+j(e)]}}function J(t){var e=new Array(j(t));return K(e,0,t),e}function K(t,e,r){for(var n=0;n<r.table.length;n++)if(0===r.height)t[e+n]=r.table[n];else{var o=0===n?0:r.lengths[n-1];K(t,e+o,r.table[n])}}function Q(t){return 0===t.length?V:W(t,Math.floor(Math.log(t.length)/Math.log(z)),0,t.length)}function W(t,e,r,n){if(0===e)return{ctor:"_Array",height:0,table:t.slice(r,n)};for(var o=Math.pow(z,e),i=new Array(Math.ceil((n-r)/o)),c=new Array(i.length),u=0;u<i.length;u++)i[u]=W(t,e-1,r+u*o,Math.min(r+(u+1)*o,n)),c[u]=j(i[u])+(u>0?c[u-1]:0);return{ctor:"_Array",height:e,table:i,lengths:c}}var z=32,H=2,V={ctor:"_Array",height:0,table:[]};return{empty:V,fromList:a,toList:d,initialize:e(c),append:e(T),push:e(l),slice:r(b),get:e(t),set:r(o),map:e(v),indexedMap:e(p),foldl:r(g),foldr:r(y),length:j,toJSArray:J,fromJSArray:Q}}(),vr=(hr.append,hr.length,hr.slice,hr.set,e(function(t,e){return p.cmp(0,t)<1&&p.cmp(t,hr.length(e))<0?A(s(hr.get,t,e)):B}),hr.push,hr.empty,e(function(t,r){var n=e(function(e,r){return t(e)?s(hr.push,e,r):r});return f(hr.foldl,n,hr.empty,r)}),hr.foldr,hr.foldl,hr.indexedMap,hr.map,hr.toList),pr=(hr.fromList,hr.initialize),mr=(e(function(t,e){return s(pr,t,m(e))}),function(){function t(t){return{ctor:"<decoder>",tag:"succeed",msg:t}}function s(t){return{ctor:"<decoder>",tag:"fail",msg:t}}function f(t){return{ctor:"<decoder>",tag:t}}function l(t,e){return{ctor:"<decoder>",tag:t,decoder:e}}function _(t){return{ctor:"<decoder>",tag:"null",value:t}}function d(t,e){return{ctor:"<decoder>",tag:"field",field:t,decoder:e}}function h(t,e){return{ctor:"<decoder>",tag:"index",index:t,decoder:e}}function v(t){return{ctor:"<decoder>",tag:"key-value",decoder:t}}function m(t,e){return{ctor:"<decoder>",tag:"map-many",func:t,decoders:e}}function g(t,e){return{ctor:"<decoder>",tag:"andThen",decoder:e,callback:t}}function y(t){return{ctor:"<decoder>",tag:"oneOf",decoders:t}}function b(t,e){return m(t,[e])}function w(t,e,r){return m(t,[e,r])}function k(t,e,r,n){return m(t,[e,r,n])}function T(t,e,r,n,o){return m(t,[e,r,n,o])}function E(t,e,r,n,o,i){return m(t,[e,r,n,o,i])}function x(t,e,r,n,o,i,c){return m(t,[e,r,n,o,i,c])}function N(t,e,r,n,o,i,c,u){return m(t,[e,r,n,o,i,c,u])}function S(t,e,r,n,o,i,c,u,a){return m(t,[e,r,n,o,i,c,u,a])}function P(t){return{tag:"ok",value:t}}function D(t,e){return{tag:"primitive",type:t,value:e}}function I(t,e){return{tag:"index",index:t,rest:e}}function O(t,e){return{tag:"field",field:t,rest:e}}function I(t,e){return{tag:"index",index:t,rest:e}}function R(t){return{tag:"oneOf",problems:t}}function C(t){return{tag:"fail",msg:t}}function j(t){for(var e="_";t;)switch(t.tag){case"primitive":return"Expecting "+t.type+("_"===e?"":" at "+e)+" but instead got: "+F(t.value);case"index":e+="["+t.index+"]",t=t.rest;break;case"field":e+="."+t.field,t=t.rest;break;case"oneOf":for(var r=t.problems,n=0;n<r.length;n++)r[n]=j(r[n]);return"I ran into the following problems"+("_"===e?"":" at "+e)+":\n\n"+r.join("\n");case"fail":return"I ran into a `fail` decoder"+("_"===e?"":" at "+e)+": "+t.msg}}function F(t){return void 0===t?"undefined":JSON.stringify(t)}function q(t,e){var r;try{r=JSON.parse(e)}catch(t){return ft("Given an invalid JSON: "+t.message)}return L(t,r)}function L(t,e){var r=U(t,e);return"ok"===r.tag?lt(r.value):ft(j(r))}function U(t,e){switch(t.tag){case"bool":return"boolean"==typeof e?P(e):D("a Bool",e);case"int":return"number"!=typeof e?D("an Int",e):-2147483647<e&&e<2147483647&&(0|e)===e?P(e):!isFinite(e)||e%1?D("an Int",e):P(e);case"float":return"number"==typeof e?P(e):D("a Float",e);case"string":return"string"==typeof e?P(e):e instanceof String?P(e+""):D("a String",e);case"null":return null===e?P(t.value):D("null",e);case"value":return P(e);case"list":if(!(e instanceof Array))return D("a List",e);for(var r=M.Nil,n=e.length;n--;){var o=U(t.decoder,e[n]);if("ok"!==o.tag)return I(n,o);r=M.Cons(o.value,r)}return P(r);case"array":if(!(e instanceof Array))return D("an Array",e);for(var i=e.length,c=new Array(i),n=i;n--;){var o=U(t.decoder,e[n]);if("ok"!==o.tag)return I(n,o);c[n]=o.value}return P(hr.fromJSArray(c));case"maybe":var o=U(t.decoder,e);return P("ok"===o.tag?A(o.value):B);case"field":var u=t.field;if("object"!=typeof e||null===e||!(u in e))return D("an object with a field named `"+u+"`",e);var o=U(t.decoder,e[u]);return"ok"===o.tag?o:O(u,o);case"index":var a=t.index;if(!(e instanceof Array))return D("an array",e);if(a>=e.length)return D("a longer array. Need index "+a+" but there are only "+e.length+" entries",e);var o=U(t.decoder,e[a]);return"ok"===o.tag?o:I(a,o);case"key-value":if("object"!=typeof e||null===e||e instanceof Array)return D("an object",e);var s=M.Nil;for(var f in e){var o=U(t.decoder,e[f]);if("ok"!==o.tag)return O(f,o);var l=p.Tuple2(f,o.value);s=M.Cons(l,s)}return P(s);case"map-many":for(var _=t.func,d=t.decoders,n=0;n<d.length;n++){var o=U(d[n],e);if("ok"!==o.tag)return o;_=_(o.value)}return P(_);case"andThen":var o=U(t.decoder,e);return"ok"!==o.tag?o:U(t.callback(o.value),e);case"oneOf":for(var h=[],v=t.decoders;"[]"!==v.ctor;){var o=U(v._0,e);if("ok"===o.tag)return o;h.push(o),v=v._1}return R(h);case"fail":return C(t.msg);case"succeed":return P(t.msg)}}function J(t,e){if(t===e)return!0;if(t.tag!==e.tag)return!1;switch(t.tag){case"succeed":case"fail":return t.msg===e.msg;case"bool":case"int":case"float":case"string":case"value":return!0;case"null":return t.value===e.value;case"list":case"array":case"maybe":case"key-value":return J(t.decoder,e.decoder);case"field":return t.field===e.field&&J(t.decoder,e.decoder);case"index":return t.index===e.index&&J(t.decoder,e.decoder);case"map-many":return t.func===e.func&&K(t.decoders,e.decoders);case"andThen":return t.callback===e.callback&&J(t.decoder,e.decoder);case"oneOf":return K(t.decoders,e.decoders)}}function K(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(!J(t[n],e[n]))return!1;return!0}function Q(t,e){return JSON.stringify(e,null,t)}function W(t){return t}function z(t){for(var e={};"[]"!==t.ctor;){var r=t._0;e[r._0]=r._1,t=t._1}return e}return{encode:e(Q),runOnString:e(q),run:e(L),decodeNull:_,decodePrimitive:f,decodeContainer:e(l),decodeField:e(d),decodeIndex:e(h),map1:e(b),map2:r(w),map3:n(k),map4:o(T),map5:i(E),map6:c(x),map7:u(N),map8:a(S),decodeKeyValuePairs:v,andThen:e(g),fail:s,succeed:t,oneOf:y,identity:W,encodeNull:null,encodeArray:hr.toJSArray,encodeList:M.toArray,encodeObject:z,equality:J}}()),gr=(mr.encodeList,mr.encodeArray,mr.encodeObject),yr=mr.encodeNull,br=mr.identity,wr=mr.identity,kr=mr.identity,Tr=mr.identity,Er=(mr.encode,e(function(t,e){return{ctor:"DefaultsUpdateQuantityForItemType",_0:t,_1:e}})),xr=e(function(t,e){return{ctor:"DefaultsUpdateNameForItemType",_0:t,_1:e}}),Nr=e(function(t,e){return{ctor:"SettingsUpdateMedicineInterval",_0:t,_1:e}}),Sr=function(t){return{ctor:"SettingsUpdateFoodPerDay",_0:t}},Br=function(t){return{ctor:"SettingsUpdateUnitSystem",_0:t}},Pr=function(t){return{ctor:"SettingsUpdateDogName",_0:t}},Ar=function(t){return{ctor:"DatabaseEventUpdated",_0:t}},Dr=function(t){return{ctor:"RetrievedSettings",_0:t}},Mr=function(t){return{ctor:"RetrievedEventFromDatabase",_0:t}},Ir=function(t){return{ctor:"RetrievedDefaults",_0:t}},Or={ctor:"SaveEditedEvent"},Rr=function(t){return{ctor:"UpdateEditedEventTimestamp",_0:t}},Cr=function(t){return{ctor:"UpdateEditedEventQuantity",_0:t}},jr=function(t){return{ctor:"UpdateEditedEventName",_0:t}},Fr=function(t){return{ctor:"EditEvent",_0:t}},qr=r(function(t,e,r){return{ctor:"SavePendingEvent",_0:t,_1:e,_2:r}}),Lr={ctor:"UpdatePendingEventSaveAsDefault"},Ur=function(t){return{ctor:"UpdatePendingEventQuantity",_0:t}},Jr=function(t){return{ctor:"UpdatePendingEventItemName",_0:t}},Kr={ctor:"DeletePendingEvent"},Qr=e(function(t,e){return{ctor:"NewAdministerEvent",_0:t,_1:e}}),Wr=r(function(t,e,r){return{ctor:"NewPendingPurchaseEvent",_0:t,_1:e,_2:r}}),zr=function(t){return{ctor:"UpdateNowTime",_0:t}},Hr=(mr.decodeNull,mr.decodePrimitive("value")),Vr=mr.andThen,$r=mr.fail,Gr=mr.succeed,Yr=mr.run,Xr=(mr.runOnString,mr.map8,mr.map7,mr.map6),Zr=mr.map5,tn=(mr.map4,mr.map3),en=mr.map2,rn=mr.map1,nn=(mr.oneOf,function(t){return s(mr.decodeContainer,"maybe",t)}),on=(mr.decodeIndex,mr.decodeField),cn=e(function(t,e){return f(C,on,e,t)}),un=(mr.decodeKeyValuePairs,mr.decodePrimitive("float")),an=mr.decodePrimitive("int"),sn=mr.decodePrimitive("bool"),fn=mr.decodePrimitive("string"),ln=et.outgoingPort("saveEvent",function(t){return t}),_n=et.outgoingPort("saveSettings",function(t){return t}),dn=et.outgoingPort("saveDefaults",function(t){return t}),hn=et.outgoingPort("updateEvent",function(t){return t}),vn=et.incomingPort("retrievedSettings",Hr),pn=et.incomingPort("retrievedDefaults",Hr),mn=et.incomingPort("retrievedNewEvent",Hr),gn=et.incomingPort("retrievedEventUpdate",Hr),yn=function(t){switch(Qe(t).ctor){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;default:return 12}},bn=function(t){return p.eq(t,0)?"00":p.cmp(t,10)<0?s(g["++"],"0",y(t)):y(t)},wn=function(t){return p.cmp(t,10)<0?s(g["++"],"0",bn(t)):p.cmp(t,100)<0?s(g["++"],"0",y(t)):y(t)},kn=function(t){return s(g["++"],y(Ke(t)),s(g["++"]," ",s(g["++"],y(Qe(t)),s(g["++"]," ",y(We(t))))))},Tn=function(t){var e={ctor:"::",_0:y(We(t)),_1:{ctor:"::",_0:bn(yn(t)),_1:{ctor:"::",_0:bn(Ke(t)),_1:{ctor:"[]"}}}};return s(Ct,"-",e)},En=function(t){var e={ctor:"::",_0:y(We(t)),_1:{ctor:"::",_0:"-",_1:{ctor:"::",_0:bn(yn(t)),_1:{ctor:"::",_0:"-",_1:{ctor:"::",_0:bn(Ke(t)),_1:{ctor:"::",_0:"T",_1:{ctor:"::",_0:bn(Je(t)),_1:{ctor:"::",_0:":",_1:{ctor:"::",_0:bn(Ue(t)),_1:{ctor:"::",_0:":",_1:{ctor:"::",_0:bn(Le(t)),_1:{ctor:"::",_0:".",_1:{ctor:"::",_0:wn(qe(t)),_1:{ctor:"[]"}}}}}}}}}}}}}};return s(Ct,"",e)},xn=e(function(t,e){var r=He(e),n=He(t);return T(n-r)}),Nn=e(function(t,e){return Pe(s(xn,t,e))/24}),Sn=function(){return s(Vr,function(t){return Gr(lr(t))},fn)}(),Bn=function(t){switch(t.ctor){case"HeartwormMedicine":return"heartworm";case"FleaTickMedicine":return"fleatick";default:return"food"}},Pn=function(t){return"PurchaseEvent"===t.ctor?"purchase":"administer"},An=function(){return s(Vr,function(t){var e=Ve(t);return"Ok"===e.ctor?Gr(e._0):$r(e._0)},fn)}(),Dn=function(t){return Tr(En(t))},Mn=function(t){return p.eq(t,"heartworm")?ar:p.eq(t,"fleatick")?ur:cr},In=function(){return s(Vr,function(t){return Gr(Mn(t))},fn)}(),On=function(t){return p.eq(t,"purchase")?ir:nr},Rn=function(){return s(Vr,function(t){return Gr(On(t))},fn)}(),Cn=function(t){var e=function(){var e=t.quantity;if("Just"===e.ctor){var r=e._0;return p.eq(r,0)?yr:wr(r)}return yr}(),r=function(){var e=t.name;if("Just"===e.ctor){var r=e._0;return p.eq(r,"")?yr:Tr(r)}return yr}();return gr({ctor:"::",_0:{ctor:"_Tuple2",_0:"name",_1:r},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"quantity",_1:e},_1:{ctor:"[]"}}})},jn=f(en,er,nn(s(on,"name",fn)),nn(s(on,"quantity",un))),Fn=d(Zr,rr,nn(s(on,"dogName",fn)),s(on,"unitSystem",Sn),nn(s(on,"dogFoodPerDay",un)),nn(s(on,"heartwormMedicineInterval",an)),nn(s(on,"fleaTickMedicineInterval",an))),qn=function(t){var e=function(){var e=t.fleaTickMedicineInterval;if("Just"===e.ctor){var r=e._0;return p.eq(r,0)?yr:kr(r)}return yr}(),r=function(){var e=t.heartwormMedicineInterval;if("Just"===e.ctor){var r=e._0;return p.eq(r,0)?yr:kr(r)}return yr}(),n=function(){var e=t.dogFoodPerDay;if("Just"===e.ctor){var r=e._0;return p.eq(r,0)?yr:wr(r)}return yr}(),o=function(){var e=t.dogName;if("Just"===e.ctor){var r=e._0;return p.eq(r,"")?yr:Tr(r)}return yr}();return gr({ctor:"::",_0:{ctor:"_Tuple2",_0:"dogName",_1:o},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"unitSystem",_1:Tr(y(t.unitSystem))},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"dogFoodPerDay",_1:n},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"heartwormMedicineInterval",_1:r},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"fleaTickMedicineInterval",_1:e},_1:{ctor:"[]"}}}}}})},Ln=l(tn,tr,s(on,"food",jn),s(on,"heartwormMedicine",jn),s(on,"fleaTickMedicine",jn)),Un=function(t){return gr({ctor:"::",_0:{ctor:"_Tuple2",_0:"food",_1:Cn(t.food)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"heartwormMedicine",_1:Cn(t.heartwormMedicine)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"fleaTickMedicine",_1:Cn(t.fleaTickMedicine)},_1:{ctor:"[]"}}}})},Jn=function(t,e,r,n,o,i,c,u){return 7===t.arity?t.func(e,r,n,o,i,c,u):t(e)(r)(n)(o)(i)(c)(u)}(Xr,Ze,nn(s(on,"id",an)),s(on,"eventType",Rn),s(on,"itemType",In),s(on,"itemName",fn),s(on,"quantity",un),s(on,"timestamp",An)),Kn=function(t){var e=s(S,yr,s(D,kr,t.id));return gr({ctor:"::",_0:{ctor:"_Tuple2",_0:"id",_1:e},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"eventType",_1:Tr(Pn(t.eventType))},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"itemType",_1:Tr(Bn(t.itemType))},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"itemName",_1:Tr(t.itemName)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"quantity",_1:wr(t.quantity)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"timestamp",_1:Dn(t.timestamp)},_1:{ctor:"[]"}}}}}}})},Qn=s(xt,zr,$e),Wn=function(t){return hn(Kn(t))},zn=function(t){return dn(Un(t))},Hn=function(t){return _n(qn(t))},Vn=function(t){return ln(Kn(t))},$n=function(t){return rt({ctor:"::",_0:Qn,_1:{ctor:"::",_0:t,_1:{ctor:"[]"}}})},Gn=function(){function t(t){return{type:"text",text:t}}function o(t){return e(function(e,r){return i(t,e,r)})}function i(t,e,r){for(var n=v(e),o=n.namespace,i=n.facts,c=[],u=0;"[]"!==r.ctor;){var a=r._0;u+=a.descendantsCount||0,c.push(a),r=r._1}return u+=c.length,{type:"node",tag:t,facts:i,children:c,namespace:o,descendantsCount:u}}function c(t,e,r){for(var n=v(e),o=n.namespace,i=n.facts,c=[],u=0;"[]"!==r.ctor;){var a=r._0;u+=a._1.descendantsCount||0,c.push(a),r=r._1}return u+=c.length,{type:"keyed-node",tag:t,facts:i,children:c,namespace:o,descendantsCount:u}}function u(t,e,r){return{type:"custom",facts:v(t).facts,model:e,impl:r}}function a(t,e){return{type:"tagger",tagger:t,node:e,descendantsCount:1+(e.descendantsCount||0)}}function l(t,e,r){return{type:"thunk",func:t,args:e,thunk:r,node:void 0}}function _(t,e){return l(t,[e],function(){return t(e)})}function d(t,e,r){return l(t,[e,r],function(){return s(t,e,r)})}function h(t,e,r,n){return l(t,[e,r,n],function(){return f(t,e,r,n)})}function v(t){for(var e,r={};"[]"!==t.ctor;){var n=t._0,o=n.key;if(o===mt||o===gt||o===pt){var i=r[o]||{};i[n.realKey]=n.value,r[o]=i}else if(o===vt){for(var c=r[o]||{},u=n.value;"[]"!==u.ctor;){var a=u._0;c[a._0]=a._1,u=u._1}r[o]=c}else if("namespace"===o)e=n.value;else if("className"===o){var s=r[o];r[o]=void 0===s?n.value:s+" "+n.value}else r[o]=n.value;t=t._1}return{facts:r,namespace:e}}function m(t){return{key:vt,value:t}}function g(t,e){return{key:t,value:e}}function y(t,e){return{key:mt,realKey:t,value:e}}function b(t,e,r){return{key:gt,realKey:e,value:{value:r,namespace:t}}}function w(t,e,r){return{key:pt,realKey:t,value:{options:e,decoder:r}}}function k(t,e){return(t.options===e.options||t.options.stopPropagation===e.options.stopPropagation&&t.options.preventDefault===e.options.preventDefault)&&mr.equality(t.decoder,e.decoder)}function T(t,e){return e.key!==pt?e:w(e.realKey,e.value.options,s(rn,t,e.value.decoder))}function E(t,e){switch(t.type){case"thunk":return t.node||(t.node=t.thunk()),E(t.node,e);case"tagger":for(var r=t.node,n=t.tagger;"tagger"===r.type;)"object"!=typeof n?n=[n,r.tagger]:n.push(r.tagger),r=r.node;var o={tagger:n,parent:e},i=E(r,o);return i.elm_event_node_ref=o,i;case"text":return yt.createTextNode(t.text);case"node":var i=t.namespace?yt.createElementNS(t.namespace,t.tag):yt.createElement(t.tag);x(i,e,t.facts);for(var c=t.children,u=0;u<c.length;u++)i.appendChild(E(c[u],e));return i;case"keyed-node":var i=t.namespace?yt.createElementNS(t.namespace,t.tag):yt.createElement(t.tag);x(i,e,t.facts);for(var c=t.children,u=0;u<c.length;u++)i.appendChild(E(c[u]._1,e));return i;case"custom":var i=t.impl.render(t.model);return x(i,e,t.facts),i}}function x(t,e,r){for(var n in r){var o=r[n];switch(n){case vt:N(t,o);break;case pt:S(t,e,o);break;case mt:P(t,o);break;case gt:A(t,o);break;case"value":t[n]!==o&&(t[n]=o);break;default:t[n]=o}}}function N(t,e){var r=t.style;for(var n in e)r[n]=e[n]}function S(t,e,r){var n=t.elm_handlers||{};for(var o in r){var i=n[o],c=r[o];if(void 0===c)t.removeEventListener(o,i),n[o]=void 0;else if(void 0===i){var i=B(e,c);t.addEventListener(o,i),n[o]=i}else i.info=c}t.elm_handlers=n}function B(t,e){function r(e){var n=r.info,o=s(mr.run,n.decoder,e);if("Ok"===o.ctor){var i=n.options;i.stopPropagation&&e.stopPropagation(),i.preventDefault&&e.preventDefault();for(var c=o._0,u=t;u;){var a=u.tagger;if("function"==typeof a)c=a(c);else for(var f=a.length;f--;)c=a[f](c);u=u.parent}}}return r.info=e,r}function P(t,e){for(var r in e){var n=e[r];void 0===n?t.removeAttribute(r):t.setAttribute(r,n)}}function A(t,e){for(var r in e){var n=e[r],o=n.namespace,i=n.value;void 0===i?t.removeAttributeNS(o,r):t.setAttributeNS(o,r,i)}}function D(t,e){var r=[];return I(t,e,r,0),r}function M(t,e,r){return{index:e,type:t,data:r,domNode:void 0,eventNode:void 0}}function I(t,e,r,n){if(t!==e){var o=t.type,i=e.type;if(o!==i)return void r.push(M("p-redraw",n,e));switch(i){case"thunk":for(var c=t.args,u=e.args,a=c.length,s=t.func===e.func&&a===u.length;s&&a--;)s=c[a]===u[a];if(s)return void(e.node=t.node);e.node=e.thunk();var f=[];return I(t.node,e.node,f,0),void(f.length>0&&r.push(M("p-thunk",n,f)));case"tagger":for(var l=t.tagger,_=e.tagger,d=!1,h=t.node;"tagger"===h.type;)d=!0,"object"!=typeof l?l=[l,h.tagger]:l.push(h.tagger),h=h.node;for(var v=e.node;"tagger"===v.type;)d=!0,"object"!=typeof _?_=[_,v.tagger]:_.push(v.tagger),v=v.node;return d&&l.length!==_.length?void r.push(M("p-redraw",n,e)):((d?O(l,_):l===_)||r.push(M("p-tagger",n,_)),void I(h,v,r,n+1));case"text":if(t.text!==e.text)return void r.push(M("p-text",n,e.text));return;case"node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void r.push(M("p-redraw",n,e));var p=R(t.facts,e.facts);return void 0!==p&&r.push(M("p-facts",n,p)),void C(t,e,r,n);case"keyed-node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void r.push(M("p-redraw",n,e));var p=R(t.facts,e.facts);return void 0!==p&&r.push(M("p-facts",n,p)),void j(t,e,r,n);case"custom":if(t.impl!==e.impl)return void r.push(M("p-redraw",n,e));var p=R(t.facts,e.facts);void 0!==p&&r.push(M("p-facts",n,p));var m=e.impl.diff(t,e);if(m)return void r.push(M("p-custom",n,m));return}}}function O(t,e){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function R(t,e,r){var n;for(var o in t)if(o!==vt&&o!==pt&&o!==mt&&o!==gt)if(o in e){var i=t[o],c=e[o];i===c&&"value"!==o||r===pt&&k(i,c)||(n=n||{},n[o]=c)}else n=n||{},n[o]=void 0===r?"string"==typeof t[o]?"":null:r===vt?"":r===pt||r===mt?void 0:{namespace:t[o].namespace,value:void 0};else{var u=R(t[o],e[o]||{},o);u&&(n=n||{},n[o]=u)}for(var a in e)a in t||(n=n||{},n[a]=e[a]);return n}function C(t,e,r,n){var o=t.children,i=e.children,c=o.length,u=i.length;c>u?r.push(M("p-remove-last",n,c-u)):c<u&&r.push(M("p-append",n,i.slice(c)));for(var a=n,s=c<u?c:u,f=0;f<s;f++){a++;var l=o[f];I(l,i[f],r,a),a+=l.descendantsCount||0}}function j(t,e,r,n){for(var o=[],i={},c=[],u=t.children,a=e.children,s=u.length,f=a.length,l=0,_=0,d=n;l<s&&_<f;){var h=u[l],v=a[_],p=h._0,m=v._0,g=h._1,y=v._1;if(p!==m){var b=l+1<s,w=_+1<f;if(b)var k=u[l+1],T=k._0,E=k._1,x=m===T;if(w)var N=a[_+1],S=N._0,B=N._1,P=p===S;if(b&&w&&P&&x)d++,I(g,B,o,d),F(i,o,p,y,_,c),d+=g.descendantsCount||0,d++,q(i,o,p,E,d),d+=E.descendantsCount||0,l+=2,_+=2;else if(w&&P)d++,F(i,o,m,y,_,c),I(g,B,o,d),d+=g.descendantsCount||0,l+=1,_+=2;else if(b&&x)d++,q(i,o,p,g,d),d+=g.descendantsCount||0,d++,I(E,y,o,d),d+=E.descendantsCount||0,l+=2,_+=1;else{if(!b||!w||T!==S)break;d++,q(i,o,p,g,d),F(i,o,m,y,_,c),d+=g.descendantsCount||0,d++,I(E,B,o,d),d+=E.descendantsCount||0,l+=2,_+=2}}else d++,I(g,y,o,d),d+=g.descendantsCount||0,l++,_++}for(;l<s;){d++;var h=u[l],g=h._1;q(i,o,h._0,g,d),d+=g.descendantsCount||0,l++}for(var A;_<f;){A=A||[];var v=a[_];F(i,o,v._0,v._1,void 0,A),_++}(o.length>0||c.length>0||void 0!==A)&&r.push(M("p-reorder",n,{patches:o,inserts:c,endInserts:A}))}function F(t,e,r,n,o,i){var c=t[r];if(void 0===c)return c={tag:"insert",vnode:n,index:o,data:void 0},i.push({index:o,entry:c}),void(t[r]=c);if("remove"===c.tag){i.push({index:o,entry:c}),c.tag="move";var u=[];return I(c.vnode,n,u,c.index),c.index=o,void(c.data.data={patches:u,entry:c})}F(t,e,r+bt,n,o,i)}function q(t,e,r,n,o){var i=t[r];if(void 0===i){var c=M("p-remove",o,void 0);return e.push(c),void(t[r]={tag:"remove",vnode:n,index:o,data:c})}if("insert"===i.tag){i.tag="move";var u=[];I(n,i.vnode,u,o);var c=M("p-remove",o,{patches:u,entry:i});return void e.push(c)}q(t,e,r+bt,n,o)}function L(t,e,r,n){U(t,e,r,0,0,e.descendantsCount,n)}function U(t,e,r,n,o,i,c){for(var u=r[n],a=u.index;a===o;){var s=u.type;if("p-thunk"===s)L(t,e.node,u.data,c);else if("p-reorder"===s){u.domNode=t,u.eventNode=c;var f=u.data.patches;f.length>0&&U(t,e,f,0,o,i,c)}else if("p-remove"===s){u.domNode=t,u.eventNode=c;var l=u.data;if(void 0!==l){l.entry.data=t;var f=l.patches;f.length>0&&U(t,e,f,0,o,i,c)}}else u.domNode=t,u.eventNode=c;if(n++,!(u=r[n])||(a=u.index)>i)return n}switch(e.type){case"tagger":for(var _=e.node;"tagger"===_.type;)_=_.node;return U(t,_,r,n,o+1,i,t.elm_event_node_ref);case"node":for(var d=e.children,h=t.childNodes,v=0;v<d.length;v++){o++;var p=d[v],m=o+(p.descendantsCount||0);if(o<=a&&a<=m&&(n=U(h[v],p,r,n,o,m,c),!(u=r[n])||(a=u.index)>i))return n;o=m}return n;case"keyed-node":for(var d=e.children,h=t.childNodes,v=0;v<d.length;v++){o++;var p=d[v]._1,m=o+(p.descendantsCount||0);if(o<=a&&a<=m&&(n=U(h[v],p,r,n,o,m,c),!(u=r[n])||(a=u.index)>i))return n;o=m}return n;case"text":case"thunk":throw new Error("should never traverse `text` or `thunk` nodes like this")}}function J(t,e,r,n){return 0===r.length?t:(L(t,e,r,n),K(t,r))}function K(t,e){for(var r=0;r<e.length;r++){var n=e[r],o=n.domNode,i=Q(o,n);o===t&&(t=i)}return t}function Q(t,e){switch(e.type){case"p-redraw":return W(t,e.data,e.eventNode);case"p-facts":return x(t,e.eventNode,e.data),t;case"p-text":return t.replaceData(0,t.length,e.data),t;case"p-thunk":return K(t,e.data);case"p-tagger":return void 0!==t.elm_event_node_ref?t.elm_event_node_ref.tagger=e.data:t.elm_event_node_ref={tagger:e.data,parent:e.eventNode},t;case"p-remove-last":for(var r=e.data;r--;)t.removeChild(t.lastChild);return t;case"p-append":for(var n=e.data,r=0;r<n.length;r++)t.appendChild(E(n[r],e.eventNode));return t;case"p-remove":var o=e.data;if(void 0===o)return t.parentNode.removeChild(t),t;var i=o.entry;return void 0!==i.index&&t.parentNode.removeChild(t),i.data=K(t,o.patches),t;case"p-reorder":return z(t,e);case"p-custom":var c=e.data;return c.applyPatch(t,c.data);default:throw new Error("Ran into an unknown patch!")}}function W(t,e,r){var n=t.parentNode,o=E(e,r);return void 0===o.elm_event_node_ref&&(o.elm_event_node_ref=t.elm_event_node_ref),n&&o!==t&&n.replaceChild(o,t),o}function z(t,e){var r=e.data,n=H(r.endInserts,e);t=K(t,r.patches);for(var o=r.inserts,i=0;i<o.length;i++){var c=o[i],u=c.entry,a="move"===u.tag?u.data:E(u.vnode,e.eventNode);t.insertBefore(a,t.childNodes[c.index])}return void 0!==n&&t.appendChild(n),t}function H(t,e){if(void 0!==t){for(var r=yt.createDocumentFragment(),n=0;n<t.length;n++){var o=t[n],i=o.entry;r.appendChild("move"===i.tag?i.data:E(i.vnode,e.eventNode))}return r}}function V(t){return e(function(e,r){return function(n){return function(o,i,c){var u=t(n,i);void 0===c?Z(r,o,i,u):it(s(e,c,r),o,i,u)}}})}function $(t){var r=p.Tuple2(p.Tuple0,nt);return s(wt,Fe,{init:r,view:function(){return t},update:e(function(){return r}),subscriptions:function(){return ct}})()}function G(t,e){return function(t,r,n){if(void 0===r)return t;X("The `"+e+"` module does not need flags.\nInitialize it with no arguments and you should be all set!",n)}}function Y(t,e){return function(r,n,o){if(void 0===t){var i="Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+e+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.";X(i,o)}var c=s(mr.run,t,n);if("Ok"===c.ctor)return r(c._0);var i="Trying to initialize the `"+e+"` module with an unexpected flag.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+c._0;X(i,o)}}function X(t,e){throw e&&(e.innerHTML='<div style="padding-left:1em;"><h2 style="font-weight:normal;"><b>Oops!</b> Something went wrong when starting your Elm program.</h2><pre style="padding-left:1em;">'+t+"</pre></div>"),new Error(t)}function Z(t,e,r,n){e.embed=function(e,r){for(;e.lastChild;)e.removeChild(e.lastChild);return et.initialize(n(t.init,r,e),t.update,t.subscriptions,rt(e,t.view))},e.fullscreen=function(e){return et.initialize(n(t.init,e,document.body),t.update,t.subscriptions,rt(document.body,t.view))}}function rt(t,e){return function(r,n){var o={tagger:r,parent:void 0},i=e(n),c=E(i,o);return t.appendChild(c),ot(c,e,i,o)}}function ot(t,e,r,n){function o(){switch(c){case"NO_REQUEST":throw new Error("Unexpected draw callback.\nPlease report this to <https://github.com/elm-lang/virtual-dom/issues>.");case"PENDING_REQUEST":Tt(o),c="EXTRA_REQUEST";var r=e(i),a=D(u,r);return t=J(t,u,a,n),void(u=r);case"EXTRA_REQUEST":return void(c="NO_REQUEST")}}var i,c="NO_REQUEST",u=r;return function(t){"NO_REQUEST"===c&&Tt(o),c="PENDING_REQUEST",i=t}}function it(t,e,r,n){e.fullscreen=function(e){var o={doc:void 0};return et.initialize(n(t.init,e,document.body),t.update(ut(o)),t.subscriptions,at(r,document.body,o,t.view,t.viewIn,t.viewOut))},e.embed=function(e,o){var i={doc:void 0};return et.initialize(n(t.init,o,e),t.update(ut(i)),t.subscriptions,at(r,e,i,t.view,t.viewIn,t.viewOut))}}function ut(t){return tt.nativeBinding(function(e){var r=t.doc;if(r){var n=r.getElementsByClassName("debugger-sidebar-messages")[0];n&&(n.scrollTop=n.scrollHeight)}e(tt.succeed(p.Tuple0))})}function at(t,e,r,n,o,i){return function(c,u){var a={tagger:c,parent:void 0},s={tagger:c,parent:void 0},f=n(u),l=E(f,a);e.appendChild(l);var _=ot(l,n,f,a),d=o(u)._1,h=E(d,s);e.appendChild(h);var v=lt(a,h,o),p=ot(h,v,d,s),m=st(u,i,s,e,t,r);return function(t){_(t),p(t),m(t)}}}function st(t,e,r,n,o,i){var c,u;return function(t){if(t.isDebuggerOpen){if(!i.doc)return c=e(t),void(u=ft(o,i,c,r));yt=i.doc;var n=e(t),a=D(c,n);u=J(u,c,a,r),c=n,yt=document}}}function ft(t,e,r,n){function o(){e.doc=void 0,u.close()}var i=screen.width-900,c=screen.height-360,u=window.open("","","width=900,height=360,left="+i+",top="+c);yt=u.document,e.doc=yt,yt.title="Debugger - "+t,yt.body.style.margin="0",yt.body.style.padding="0";var a=E(r,n);return yt.body.appendChild(a),yt.addEventListener("keydown",function(t){t.metaKey&&82===t.which&&window.location.reload(),38===t.which&&(n.tagger({ctor:"Up"}),t.preventDefault()),40===t.which&&(n.tagger({ctor:"Down"}),t.preventDefault())}),window.addEventListener("unload",o),u.addEventListener("unload",function(){e.doc=void 0,window.removeEventListener("unload",o),n.tagger({ctor:"Close"})}),yt=document,a}function lt(t,e,r){var n,o=ht(e),i="Normal",c=t.tagger,u=function(){};return function(e){var a=r(e),s=a._0.ctor;return t.tagger="Normal"===s?c:u,i!==s&&(_t("removeEventListener",o,i),_t("addEventListener",o,s),"Normal"===i&&(n=document.body.style.overflow,document.body.style.overflow="hidden"),"Normal"===s&&(document.body.style.overflow=n),i=s),a._1}}function _t(t,e,r){switch(r){case"Normal":return;case"Pause":return dt(t,e,Et);case"Message":return dt(t,e,xt)}}function dt(t,e,r){for(var n=0;n<r.length;n++)document.body[t](r[n],e,!0)}function ht(t){return function(e){if("keydown"!==e.type||!e.metaKey||82!==e.which){for(var r="scroll"===e.type||"wheel"===e.type,n=e.target;null!==n;){if("elm-overlay-message-details"===n.className&&r)return;if(n===t&&!r)return;n=n.parentNode}e.stopPropagation(),e.preventDefault()}}}var vt="STYLE",pt="EVENT",mt="ATTR",gt="ATTR_NS",yt="undefined"!=typeof document?document:{},bt="_elmW6BL",wt=V(G),kt=V(Y),Tt="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,1e3/60)},Et=["click","dblclick","mousemove","mouseup","mousedown","mouseenter","mouseleave","touchstart","touchend","touchcancel","touchmove","pointerdown","pointerup","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointercancel","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","keyup","keydown","keypress","input","change","focus","blur"],xt=Et.concat("wheel","scroll");return{node:o,text:t,custom:u,map:e(a),on:r(w),style:m,property:e(g),attribute:e(y),attributeNS:r(b),mapProperty:e(T),lazy:e(_),lazy2:r(d),lazy3:n(h),keyedNode:r(c),program:wt,programWithFlags:kt,staticProgram:$}}(),Yn=function(t){return s(Gn.program,Fe,t)},Xn=(Gn.keyedNode,Gn.lazy3,Gn.lazy2,Gn.lazy,{stopPropagation:!1,preventDefault:!1}),Zn=Gn.on,to=e(function(t,e){return f(Zn,t,Xn,e)}),eo=(Gn.style,Gn.mapProperty,Gn.attributeNS,Gn.attribute),ro=Gn.property,no=(Gn.map,Gn.text),oo=Gn.node,io=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),Yn),co=no,uo=oo,ao=(uo("body"),uo("section"),uo("nav"),uo("article"),uo("aside"),uo("h1")),so=uo("h2"),fo=(uo("h3"),uo("h4"),uo("h5")),lo=(uo("h6"),uo("header"),uo("footer"),uo("address"),uo("main"),uo("p"),uo("hr"),uo("pre"),uo("blockquote"),uo("ol"),uo("ul")),_o=uo("li"),ho=(uo("dl"),uo("dt"),uo("dd"),uo("figure"),uo("figcaption"),uo("div")),vo=(uo("a"),uo("em"),uo("strong"),uo("small"),uo("s"),uo("cite"),uo("q"),uo("dfn"),uo("abbr"),uo("time"),uo("code"),uo("var"),uo("samp"),uo("kbd"),uo("sub"),uo("sup"),uo("i"),uo("b"),uo("u"),uo("mark"),uo("ruby"),uo("rt"),uo("rp"),uo("bdi"),uo("bdo"),uo("span")),po=(uo("br"),uo("wbr"),uo("ins"),uo("del"),uo("img")),mo=(uo("iframe"),uo("embed"),uo("object"),uo("param"),uo("video"),uo("audio"),uo("source"),uo("track"),uo("canvas"),uo("math"),uo("table")),go=(uo("caption"),uo("colgroup"),uo("col"),uo("tbody")),yo=uo("thead"),bo=(uo("tfoot"),uo("tr")),wo=uo("td"),ko=uo("th"),To=uo("form"),Eo=(uo("fieldset"),uo("legend"),uo("label")),xo=uo("input"),No=uo("button"),So=(uo("select"),uo("datalist"),uo("optgroup"),uo("option"),uo("textarea"),uo("keygen"),uo("output"),uo("progress"),uo("meter"),uo("details"),uo("summary"),uo("menuitem"),uo("menu"),function(t){return Mt(t)||p.eq(t,p.chr("."))}),Bo=e(function(t,e){return s(st,e,Ot(s(jt,Mt,t)))}),Po=e(function(t,e){return s(st,e,It(s(jt,So,t)))}),Ao=(e(function(t,e){var r=function(){var t=e;return"Just"===t.ctor?t._0.quantity:1}();return s(Po,t,r)}),e(function(t,e){switch(e.ctor){case"Food":return t.defaultPurchases.food;case"HeartwormMedicine":return t.defaultPurchases.heartwormMedicine;default:return t.defaultPurchases.fleaTickMedicine}})),Do=r(function(t,e,r){switch(e.ctor){case"Food":return p.update(t,{food:r});case"HeartwormMedicine":return p.update(t,{heartwormMedicine:r});default:return p.update(t,{fleaTickMedicine:r})}}),Mo=e(function(t,e){var r=t;switch(r.ctor){case"UpdateNowTime":return{ctor:"_Tuple2",_0:p.update(e,{now:r._0}),_1:nt};case"NewPendingPurchaseEvent":var n={itemType:A(r._0),editableData:{name:r._1,quantity:r._2},saveAsDefaults:!1};return{ctor:"_Tuple2",_0:p.update(e,{pendingEvent:n}),_1:Qn};case"NewAdministerEvent":var o=f(or,r._0,r._1,e.now);return{ctor:"_Tuple2",_0:e,_1:$n(Vn(o))};case"DeletePendingEvent":return{ctor:"_Tuple2",_0:p.update(e,{pendingEvent:Ye}),_1:Qn};case"UpdatePendingEventItemType":var i=e.pendingEvent,c=p.update(i,{itemType:A(r._0)});return{ctor:"_Tuple2",_0:p.update(e,{pendingEvent:c}),_1:Qn};case"UpdatePendingEventItemName":var i=e.pendingEvent,u=i.editableData,a=p.update(u,{name:A(r._0)}),c=p.update(i,{editableData:a});return{ctor:"_Tuple2",_0:p.update(e,{pendingEvent:c}),_1:Qn};case"UpdatePendingEventQuantity":var i=e.pendingEvent,u=i.editableData,l=function(){var t=It(r._0);return"Ok"===t.ctor?A(t._0):B}(),a=p.update(u,{quantity:l}),c=p.update(i,{editableData:a});return{ctor:"_Tuple2",_0:p.update(e,{pendingEvent:c}),_1:Qn};case"UpdatePendingEventSaveAsDefault":var i=e.pendingEvent,c=p.update(i,{saveAsDefaults:!i.saveAsDefaults});return{ctor:"_Tuple2",_0:p.update(e,{pendingEvent:c}),_1:Qn};case"SavePendingEvent":var _=r._2,d=r._1,h=r._0,v=e.defaultPurchases,m=s(Ao,e,h),y=p.update(m,{name:A(d),quantity:A(_)}),b=f(Do,v,h,y),w={id:B,eventType:ir,timestamp:e.now,itemType:h,itemName:d,quantity:_},k=Vn(w),i=e.pendingEvent,T=i.saveAsDefaults?zn(b):nt,E=rt({ctor:"::",_0:k,_1:{ctor:"::",_0:T,_1:{ctor:"[]"}}});return{ctor:"_Tuple2",_0:p.update(e,{pendingEvent:Ye,defaultPurchases:b}),_1:$n(E)};case"EditEvent":return{ctor:"_Tuple2",_0:p.update(e,{eventToEdit:A(r._0)}),_1:Qn};case"UpdateEditedEventName":var x=s(D,function(t){return p.update(t,{itemName:r._0})},e.eventToEdit);return{ctor:"_Tuple2",_0:p.update(e,{eventToEdit:x}),_1:Qn};case"UpdateEditedEventQuantity":var x=function(){var t=It(r._0);return"Ok"===t.ctor?s(D,function(e){return p.update(e,{quantity:t._0})},e.eventToEdit):e.eventToEdit}();return{ctor:"_Tuple2",_0:p.update(e,{eventToEdit:x}),_1:Qn};case"UpdateEditedEventTimestamp":var x=function(){var t=Ve(r._0);return"Ok"===t.ctor?s(D,function(e){return p.update(e,{timestamp:t._0})},e.eventToEdit):e.eventToEdit}();return{ctor:"_Tuple2",_0:p.update(e,{eventToEdit:x}),_1:Qn};case"SaveEditedEvent":var N=function(){var t=e.eventToEdit;return"Just"===t.ctor?$n(Wn(t._0)):Qn}();return{ctor:"_Tuple2",_0:e,_1:N};case"RetrievedDefaults":var S=s(Yr,Ln,r._0);return"Ok"===S.ctor?{ctor:"_Tuple2",_0:p.update(e,{defaultPurchases:S._0}),_1:Qn}:{ctor:"_Tuple2",_0:p.update(e,{error:s(g["++"],"RetrievedDefaults: ",S._0)}),_1:Qn};case"RetrievedEventFromDatabase":var P=s(Yr,Jn,r._0);return"Ok"===P.ctor?{ctor:"_Tuple2",_0:p.update(e,{events:{ctor:"::",_0:P._0,_1:e.events}}),_1:Qn}:{ctor:"_Tuple2",_0:p.update(e,{error:s(g["++"],"RetrievedEventFromDatabase: ",P._0)}),_1:Qn};case"RetrievedSettings":var M=s(Yr,Fn,r._0);return"Ok"===M.ctor?{ctor:"_Tuple2",_0:p.update(e,{settings:M._0}),_1:Qn}:{ctor:"_Tuple2",_0:p.update(e,{error:s(g["++"],"RetrievedSettings: ",M._0)}),_1:Qn};case"DatabaseEventUpdated":var I=function(){var t=s(Yr,Jn,r._0);return"Ok"===t.ctor?{ctor:"_Tuple2",_0:A(t._0),_1:""}:{ctor:"_Tuple2",_0:B,_1:t._0}}(),O=I._0,R=I._1,C=function(){var t=O;if("Just"===t.ctor){var r=t._0;return{ctor:"::",_0:r,_1:s(K,function(t){return!p.eq(t.id,r.id)},e.events)}}return e.events}();return{ctor:"_Tuple2",_0:p.update(e,{events:C,error:R}),_1:Qn};case"SettingsUpdateDogName":var j=e.settings,F=p.update(j,{dogName:A(r._0)});return{ctor:"_Tuple2",_0:e,_1:$n(Hn(F))};case"SettingsUpdateUnitSystem":var j=e.settings,F=p.update(j,{unitSystem:r._0});return{ctor:"_Tuple2",_0:e,_1:$n(Hn(F))};case"SettingsUpdateFoodPerDay":var q=r._0,j=e.settings,l=s(Po,q,0),F=p.update(j,{dogFoodPerDay:A(l)});s(jt,So,q);return{ctor:"_Tuple2",_0:e,_1:$n(Hn(F))};case"SettingsUpdateMedicineInterval":var L=r._1,j=e.settings,U=s(Bo,L,0),F=function(){switch(r._0.ctor){case"HeartwormMedicine":return p.update(j,{heartwormMedicineInterval:A(U)});case"FleaTickMedicine":return p.update(j,{fleaTickMedicineInterval:A(U)});default:return j}}();s(jt,Mt,L);return{ctor:"_Tuple2",_0:e,_1:$n(Hn(F))};case"DefaultsUpdateNameForItemType":var J=r._0,v=e.defaultPurchases,m=s(Ao,e,J),y=p.update(m,{name:A(r._1)}),b=f(Do,v,J,y);return{ctor:"_Tuple2",_0:p.update(e,{defaultPurchases:b}),_1:$n(zn(b))};default:var Q=r._1,W=r._0,v=e.defaultPurchases,l=s(Po,Q,0),m=(s(jt,So,Q),s(Ao,e,W)),y=p.update(m,{quantity:A(l)}),b=f(Do,v,W,y);return{ctor:"_Tuple2",_0:p.update(e,{defaultPurchases:b}),_1:$n(zn(b))}}}),Io=eo,Oo=function(t){return s(Io,"tabIndex",y(t))},Ro=ro,Co=e(function(t,e){return s(Ro,t,Tr(e))}),jo=function(t){return s(Co,"className",t)},Fo=function(t){return s(Co,"id",t)},qo=function(t){return s(Co,"src",t)},Lo=function(t){return s(Co,"type",t)},Uo=function(t){return s(Co,"value",t)},Jo=function(t){return s(Co,"placeholder",t)},Ko=function(t){return s(Co,"name",t)},Qo=function(t){return s(Co,"htmlFor",t)},Wo=(e(function(t,e){return s(Ro,t,br(e))}),s(on,"keyCode",an),s(cn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"checked",_1:{ctor:"[]"}}},sn),s(cn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},fn)),zo=Xn,Ho=to,Vo=(p.update(zo,{preventDefault:!0}),function(t){return s(Ho,"input",s(rn,t,Wo))}),$o=function(t){return s(Ho,"click",Gr(t))},Go=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),function(t){return s(Ho,"focusout",s(rn,t,Wo))}),Yo=co(""),Xo=function(t){return s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo("eventDate"),_1:{ctor:"[]"}},{ctor:"::",_0:co("Date:"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(xo,{ctor:"::",_0:Lo("date"),_1:{ctor:"::",_0:jo("form-control"),_1:{ctor:"::",_0:Uo(Tn(t.timestamp)),_1:{ctor:"::",_0:Go(Rr),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"[]"}}})},Zo=function(t){return"AdministerEvent"===t.eventType.ctor?Yo:s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo("eventQuantity"),_1:{ctor:"[]"}},{ctor:"::",_0:co("Quantity:"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(xo,{ctor:"::",_0:Lo("text"),_1:{ctor:"::",_0:jo("form-control"),_1:{ctor:"::",_0:Uo(y(t.quantity)),_1:{ctor:"::",_0:Go(Cr),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"[]"}}})},ti=function(t){return s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo("eventItemName"),_1:{ctor:"[]"}},{ctor:"::",_0:co("Kind:"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(xo,{ctor:"::",_0:Lo("text"),_1:{ctor:"::",_0:jo("form-control"),_1:{ctor:"::",_0:Uo(t.itemName),_1:{ctor:"::",_0:Go(jr),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"[]"}}})},ei=function(t){return s(ho,{ctor:"::",_0:jo("modal-footer"),_1:{ctor:"[]"}},{ctor:"::",_0:s(No,{ctor:"::",_0:Lo("button"),_1:{ctor:"::",_0:jo("btn btn-secondary"),_1:{ctor:"::",_0:s(Io,"data-dismiss","modal"),_1:{ctor:"[]"}}}},{ctor:"::",_0:co("Cancel"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(No,{ctor:"::",_0:Lo("button"),_1:{ctor:"::",_0:jo("btn btn-primary"),_1:{ctor:"::",_0:s(Io,"data-dismiss","modal"),_1:{ctor:"::",_0:$o(Or),_1:{ctor:"[]"}}}}},{ctor:"::",_0:co("Save"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},ri=function(t){return s(ho,{ctor:"::",_0:jo("modal-body"),_1:{ctor:"[]"}},{ctor:"::",_0:ti(t),_1:{ctor:"::",_0:Zo(t),_1:{ctor:"::",_0:Xo(t),_1:{ctor:"[]"}}}})},ni=function(t){return s(ho,{ctor:"::",_0:jo("modal-header"),_1:{ctor:"[]"}},{ctor:"::",_0:s(fo,{ctor:"::",_0:jo("modal-title"),_1:{ctor:"::",_0:Fo("editEventModalLabel"),_1:{ctor:"[]"}}},{ctor:"::",_0:co("Edit"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(No,{ctor:"::",_0:Lo("button"),_1:{ctor:"::",_0:jo("close"),_1:{ctor:"::",_0:s(Io,"data-dismiss","modal"),_1:{ctor:"::",_0:s(Io,"aria-label","Close"),_1:{ctor:"[]"}}}}},{ctor:"::",_0:s(vo,{ctor:"::",_0:s(Io,"aria-hidden","true"),_1:{ctor:"[]"}},{ctor:"::",_0:co("x"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},oi=function(t){var e=t;if("Just"===e.ctor){var r=e._0;return{ctor:"::",_0:ni(r.itemType),_1:{ctor:"::",_0:ri(r),_1:{ctor:"::",_0:ei(),_1:{ctor:"[]"}}}}}return{ctor:"[]"}},ii=function(t){return s(ho,{ctor:"::",_0:jo("modal fade"),_1:{ctor:"::",_0:Fo("editEventModal"),_1:{ctor:"::",_0:Oo(-1),_1:{ctor:"::",_0:s(Io,"role","dialog"),_1:{ctor:"::",_0:s(Io,"aria-hidden","true"),_1:{ctor:"::",_0:s(Io,"aria-labelledby","#editEventModalLabel"),_1:{ctor:"[]"}}}}}}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("modal-dialog modal-dialog-centered"),_1:{ctor:"::",_0:s(Io,"role","document"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("modal-content"),_1:{ctor:"[]"}},oi(t)),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})},ci=r(function(t,e,r){return e-r+(t-1)*e}),ui=e(function(t,e){return q(s(J,function(t){return t.quantity},s(K,function(e){return p.eq(e.eventType,t)},e)))}),ai=r(function(t,e,r){var n=w(s(Nn,r.timestamp,t));return s(D,function(t){return t-n},e)}),si=n(function(t,e,r,n){var o=w(s(Nn,n.timestamp,e));return s(P,function(e){return A(f(ci,t,e,o))},r)}),fi=function(t){var e=s(ui,nr,t);return s(ui,ir,t)-e},li=e(function(t,e){return s(P,function(t){return A(w(e/t))},t)}),_i=r(function(t,e,r){var n=b(w(s(Nn,r.timestamp,t))),o=e;return A("Just"===o.ctor?r.quantity-o._0*n:r.quantity)}),di=function(t){switch(t.ctor){case"LT":return E;case"EQ":return x;default:return N}},hi=e(function(t,e){return s(k,He(t.timestamp),He(e.timestamp))}),vi=e(function(t,e){return di(s(hi,t,e))}),pi=function(t){return"Imperial"===t.ctor?"lb":"kg"},mi=function(t){switch(t.ctor){case"HeartwormMedicine":return"Heartworm Medicine";case"FleaTickMedicine":return"Flea/Tick Medicine";default:return"Food"}},gi=function(t){var e=t;return"Just"===e.ctor?mi(e._0):""},yi=function(t){return p.eq(t,ir)?"Purchased":"Adminstered"},bi=function(t){return s(ho,{ctor:"::",_0:jo("col"),_1:{ctor:"[]"}},t)},wi=function(t){return s(ho,{ctor:"::",_0:jo("row"),_1:{ctor:"[]"}},t)},ki=r(function(t,e,r){var n=s(z,e,{ctor:"::",_0:jo("btn btn-primary btn-block"),_1:{ctor:"::",_0:$o(r),_1:{ctor:"[]"}}});return s(No,n,{ctor:"::",_0:co(t),_1:{ctor:"[]"}})}),Ti=r(function(t,e,r){var n={ctor:"::",_0:s(Io,"data-toggle","modal"),_1:{ctor:"::",_0:s(Io,"data-target","#purchaseModal"),_1:{ctor:"[]"}}};return f(ki,"Purchased!",n,f(Wr,t,e,r))}),Ei=e(function(t,e){var r=function(){var t=e;return"Just"===t.ctor?t._0:"Unknown"}();return f(ki,"Administered!",{ctor:"[]"},s(Qr,t,r))}),xi=r(function(t,e,r){return wi({ctor:"::",_0:s(ho,{ctor:"::",_0:jo("col"),_1:{ctor:"[]"}},{ctor:"::",_0:f(Ti,t,e,r),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("col"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ei,t,e),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}),Ni=function(t){return s(so,{ctor:"::",_0:jo("text-center"),_1:{ctor:"[]"}},{ctor:"::",_0:co(t),_1:{ctor:"[]"}})},Si=e(function(t,e){var r=p.eq(e.eventType,ir)?p.eq(e.itemType,cr)?s(g["++"]," ",pi(t)):" dose(s)":"",n=p.eq(e.eventType,ir)?s(g["++"]," ",y(e.quantity)):"";return s(g["++"],kn(e.timestamp),s(g["++"],": ",s(g["++"],yi(e.eventType),s(g["++"],n,s(g["++"],r,s(g["++"]," ",e.itemName))))))}),Bi=e(function(t,e){var r=p.eq(e.eventType,ir)?"table-success":"table-primary";return s(bo,{ctor:"::",_0:jo(s(g["++"],r," shadow-sm p-3 m-1 rounded")),_1:{ctor:"[]"}},{ctor:"::",_0:s(wo,{ctor:"::",_0:jo("text-left"),_1:{ctor:"[]"}},{ctor:"::",_0:co(s(Si,t,e)),_1:{ctor:"::",_0:s(No,{ctor:"::",_0:jo("btn btn-link m-0 p-0 float-right"),_1:{ctor:"::",_0:s(Io,"data-toggle","modal"),_1:{ctor:"::",_0:s(Io,"data-target","#editEventModal"),_1:{ctor:"::",_0:$o(Fr(e)),_1:{ctor:"[]"}}}}},{ctor:"::",_0:s(po,{ctor:"::",_0:qo("./edit.png"),_1:{ctor:"[]"}},{ctor:"[]"}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}})}),Pi=e(function(t,e){return p.cmp(F(e),0)>0?s(mo,{ctor:"::",_0:jo("table mt-3"),_1:{ctor:"[]"}},{ctor:"::",_0:s(yo,{ctor:"[]"},{ctor:"::",_0:s(ko,{ctor:"::",_0:jo("text-center"),_1:{ctor:"[]"}},{ctor:"::",_0:co("History"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(go,{ctor:"[]"},s(J,Bi(t),e)),_1:{ctor:"[]"}}}):Yo}),Ai=function(t){return L(s(I,vi,t))},Di=function(t){return s(lo,{ctor:"::",_0:jo("list-group list-group-flush text-center"),_1:{ctor:"[]"}},t)},Mi=e(function(t,e){return s(_o,{ctor:"::",_0:jo("list-group-item"),_1:{ctor:"[]"}},{ctor:"::",_0:co(s(g["++"],t,s(g["++"],": ",e))),_1:{ctor:"[]"}})}),Ii=function(t){return s(Mi,"Days until next administer",t)},Oi=function(t){return s(Mi,"Days until next purchase",t)},Ri=function(t){return s(Mi,"Amount remaining",t)},Ci=r(function(t,e,r){var n=Ai(s(K,function(t){return p.eq(t.eventType,nr)},t)),o=function(){var t=n;return"Just"===t.ctor?f(ai,r,e,t._0):B}(),i=function(){var t=o;return"Just"===t.ctor?y(t._0):"n/a"}(),c=w(fi(t)),u=function(){var t=n;return"Just"===t.ctor?l(si,c,r,e,t._0):s(D,function(t){return t*c},e)}(),a=function(){var t=u;return"Just"===t.ctor?y(t._0):"n/a"}(),_=p.cmp(c,0)<0?"n/a":p.eq(c,1)?s(g["++"],y(c)," dose"):s(g["++"],y(c)," doses");return Di({ctor:"::",_0:Ri(_),_1:{ctor:"::",_0:Oi(a),_1:{ctor:"::",_0:Ii(i),_1:{ctor:"[]"}}}})}),ji=n(function(t,e,r,n){var o=s(P,s(_i,n,e),t),i=s(P,li(e),o),c=function(){var t=i;return"Just"===t.ctor?y(t._0):"n/a"}(),u=function(){var t=o;return"Just"===t.ctor?s(g["++"],y(t._0),s(g["++"]," ",pi(r))):"n/a"}();return Di({ctor:"::",_0:Ri(u),_1:{ctor:"::",_0:Oi(c),_1:{ctor:"[]"}}})}),Fi=n(function(t,e,r,n){switch(r.ctor){case"Food":return l(ji,Ai(t),e.dogFoodPerDay,e.unitSystem,n);case"HeartwormMedicine":return f(Ci,t,e.heartwormMedicineInterval,n);default:return f(Ci,t,e.fleaTickMedicineInterval,n)}}),qi=e(function(t,e){var r=t;return"Just"===r.ctor?A(r._0):e}),Li=e(function(t,e){return s(qi,t,e)}),Ui=e(function(t,e){return s(qi,t,e)}),Ji=e(function(t,e){var r=s(K,function(e){return p.eq(e.itemType,t)},e.events),n=Ai(s(K,function(e){return p.eq(e.itemType,t)},s(K,function(t){return p.eq(t.eventType,ir)},e.events))),o=s(P,function(t){return A(t.itemName)},n),i=s(P,function(t){return A(t.quantity)},n),c=function(){switch(t.ctor){case"Food":return e.defaultPurchases.food;case"HeartwormMedicine":return e.defaultPurchases.heartwormMedicine;default:return e.defaultPurchases.fleaTickMedicine}}(),u=s(Ui,c.name,o),a=s(Li,c.quantity,i),_=p.eq(t,cr)?f(Ti,t,u,a):f(xi,t,u,a),d=mi(t);return bi({ctor:"::",_0:Ni(d),_1:{ctor:"::",_0:l(Fi,r,e.settings,t,e.now),_1:{ctor:"::",_0:_,_1:{ctor:"::",_0:s(Pi,e.settings.unitSystem,r),_1:{ctor:"[]"}}}}})}),Ki=function(t){var e=function(){var e={ctor:"_Tuple3",_0:t.itemType,_1:t.editableData.name,_2:t.editableData.quantity};return"_Tuple3"===e.ctor&&"Just"===e._0.ctor&&"Just"===e._1.ctor&&"Just"===e._2.ctor?{ctor:"::",_0:Lo("button"),_1:{ctor:"::",_0:jo("btn btn-primary"),_1:{ctor:"::",_0:$o(f(qr,e._0._0,e._1._0,e._2._0)),_1:{ctor:"::",_0:s(Io,"data-dismiss","modal"),_1:{ctor:"[]"}}}}}:{ctor:"::",_0:Lo("button"),_1:{ctor:"::",_0:jo("btn btn-primary disabled"),_1:{ctor:"[]"}}}}();return s(ho,{ctor:"::",_0:jo("modal-footer"),_1:{ctor:"[]"}},{ctor:"::",_0:s(No,{ctor:"::",_0:Lo("button"),_1:{ctor:"::",_0:jo("btn btn-secondary"),_1:{ctor:"::",_0:$o(Kr),_1:{ctor:"::",_0:s(Io,"data-dismiss","modal"),_1:{ctor:"[]"}}}}},{ctor:"::",_0:co("Close"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(No,e,{ctor:"::",_0:co("Save"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},Qi=function(t){var e=function(){var e=t.editableData.quantity;return"Just"===e.ctor?Uo(y(e._0)):Jo("1.0")}(),r=function(){var e=t.editableData.name;return"Just"===e.ctor?Uo(e._0):Jo("Generic Brand")}();return s(ho,{ctor:"::",_0:jo("modal-body"),_1:{ctor:"[]"}},{ctor:"::",_0:s(To,{ctor:"::",_0:jo("text-left px-3"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo("itemName"),_1:{ctor:"[]"}},{ctor:"::",_0:co(s(g["++"],gi(t.itemType)," Name:")),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(xo,{ctor:"::",_0:Lo("text"),_1:{ctor:"::",_0:jo("form-control"),_1:{ctor:"::",_0:r,_1:{ctor:"::",_0:Fo("itemName"),_1:{ctor:"::",_0:Vo(Jr),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo("itemQuantity"),_1:{ctor:"[]"}},{ctor:"::",_0:co("Quantity:"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(xo,{ctor:"::",_0:Lo("text"),_1:{ctor:"::",_0:jo("form-control"),_1:{ctor:"::",_0:e,_1:{ctor:"::",_0:Fo("itemQuantity"),_1:{ctor:"::",_0:Go(Ur),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("form-check"),_1:{ctor:"[]"}},{ctor:"::",_0:s(xo,{ctor:"::",_0:Lo("checkbox"),_1:{ctor:"::",_0:jo("form-check-input"),_1:{ctor:"::",_0:Fo("saveAsDefault"),_1:{ctor:"::",_0:$o(Lr),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo("saveAsDefault"),_1:{ctor:"::",_0:jo("form-check-label"),_1:{ctor:"[]"}}},{ctor:"::",_0:co("Save as default?"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}})},Wi=function(t){return s(ho,{ctor:"::",_0:jo("modal-header"),_1:{ctor:"[]"}},{ctor:"::",_0:s(fo,{ctor:"::",_0:jo("modal-title"),_1:{ctor:"::",_0:Fo("purchaseModalLabel"),_1:{ctor:"[]"}}},{ctor:"::",_0:co(s(g["++"],"Purchase ",gi(t))),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(No,{ctor:"::",_0:Lo("button"),_1:{ctor:"::",_0:jo("close"),_1:{ctor:"::",_0:s(Io,"data-dismiss","modal"),_1:{ctor:"::",_0:s(Io,"aria-label","Close"),_1:{ctor:"[]"}}}}},{ctor:"::",_0:s(vo,{ctor:"::",_0:s(Io,"aria-hidden","true"),_1:{ctor:"[]"}},{ctor:"::",_0:co("x"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},zi=function(t){return{ctor:"::",_0:Wi(t.itemType),_1:{ctor:"::",_0:Qi(t),_1:{ctor:"::",_0:Ki(t),_1:{ctor:"[]"}}}}},Hi=function(t){return s(ho,{ctor:"::",_0:jo("modal fade"),_1:{ctor:"::",_0:Fo("purchaseModal"),_1:{ctor:"::",_0:Oo(-1),_1:{ctor:"::",_0:s(Io,"role","dialog"),_1:{ctor:"::",_0:s(Io,"aria-hidden","true"),_1:{ctor:"::",_0:s(Io,"aria-labelledby","#purchaseModalLabel"),_1:{ctor:"[]"}}}}}}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("modal-dialog modal-dialog-centered"),_1:{ctor:"::",_0:s(Io,"role","document"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("modal-content"),_1:{ctor:"[]"}},zi(t)),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})},Vi=r(function(t,e,r){var n=p.eq(t,cr)?pi(e):"dose(s)",o=function(){var t=r.quantity;return"Just"===t.ctor?Uo(y(t._0)):Jo("1")}(),i={ctor:"::",_0:Lo("number"),_1:{ctor:"::",_0:jo("form-control"),_1:{ctor:"::",_0:Fo("itemQuantity"),_1:{ctor:"::",_0:Go(Er(t)),_1:{ctor:"::",_0:o,_1:{ctor:"[]"}}}}}},c=s(ho,{ctor:"::",_0:jo("input-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(xo,i,{ctor:"[]"}),_1:{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("input-group-append"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("input-group-text"),_1:{ctor:"[]"}},{ctor:"::",_0:co(n),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),u=function(){var t=r.name;return"Just"===t.ctor?Uo(t._0):Jo("The good stuff")}(),a={ctor:"::",_0:Lo("text"),_1:{ctor:"::",_0:jo("form-control"),_1:{ctor:"::",_0:Fo("itemName"),_1:{ctor:"::",_0:Go(xr(t)),_1:{ctor:"::",_0:u,_1:{ctor:"[]"}}}}}},f=s(g["++"],mi(t)," Name:");return s(ho,{ctor:"[]"},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo("itemName"),_1:{ctor:"[]"}},{ctor:"::",_0:co(f),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(xo,a,{ctor:"[]"}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo("itemQuantity"),_1:{ctor:"[]"}},{ctor:"::",_0:co("Quantity:"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:c,_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}})}),$i=o(function(t,e,r,n,o){var i=function(){var r=t;return"Just"===r.ctor?Uo(y(r._0)):Jo(e)}(),c={ctor:"::",_0:jo("form-control"),_1:{ctor:"::",_0:Lo("text"),_1:{ctor:"::",_0:Fo(n),_1:{ctor:"::",_0:Go(o),_1:{ctor:"::",_0:i,_1:{ctor:"[]"}}}}}};return s(ho,{ctor:"::",_0:jo("input-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(xo,c,{ctor:"[]"}),_1:{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("input-group-append"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("input-group-text"),_1:{ctor:"[]"}},{ctor:"::",_0:co(r),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}),Gi=(o(function(t,e,r,n,o){return _($i,t,e,r,n,o)}),n(function(t,e,r,n){return _($i,t,"10",e,r,n)})),Yi=n(function(t,e,r,n){return _($i,t,"1.0",e,r,n)}),Xi=r(function(t,e,r){return s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo(t),_1:{ctor:"[]"}},{ctor:"::",_0:co(e),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:r,_1:{ctor:"[]"}}})}),Zi=function(t){var e={ctor:"::",_0:jo("form-check-input"),_1:{ctor:"::",_0:Lo("radio"),_1:{ctor:"::",_0:Ko("unitSystemRadios"),_1:{ctor:"[]"}}}},r=s(z,{ctor:"::",_0:Uo("metric"),_1:{ctor:"::",_0:$o(Br(fr)),_1:{ctor:"[]"}}},e),n=function(){return"Metric"===t.ctor?{ctor:"::",_0:s(Io,"checked",""),_1:r}:r}(),o=s(z,{ctor:"::",_0:Uo("imperial"),_1:{ctor:"::",_0:$o(Br(sr)),_1:{ctor:"[]"}}},e),i=function(){return"Metric"===t.ctor?o:{ctor:"::",_0:s(Io,"checked",""),_1:o}}();return s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"[]"},{ctor:"::",_0:co("Unit System:"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("form-check"),_1:{ctor:"[]"}},{ctor:"::",_0:s(xo,n,{ctor:"[]"}),_1:{ctor:"::",_0:s(Eo,{ctor:"::",_0:jo("form-check-label"),_1:{ctor:"::",_0:Qo("radioMetric"),_1:{ctor:"[]"}}},{ctor:"::",_0:co("Metric (kgs)"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("form-check"),_1:{ctor:"[]"}},{ctor:"::",_0:s(xo,i,{ctor:"[]"}),_1:{ctor:"::",_0:s(Eo,{ctor:"::",_0:jo("form-check-label"),_1:{ctor:"::",_0:Qo("radioImperial"),_1:{ctor:"[]"}}},{ctor:"::",_0:co("Imperial (lbs)"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}})},tc=e(function(t,e){var r=s(g["++"],mi(t)," Interval:"),n=s(g["++"],y(t),"Interval"),o=l(Gi,e,"day(s)",n,Nr(t));return f(Xi,n,r,o)}),ec=e(function(t,e){var r=l(Yi,t,pi(e),"dogFoodPerDay",Sr);return f(Xi,"dogFoodPerDay","Dog Food Per Day:",r)}),rc=function(t){var e=function(){var e=t;return"Just"===e.ctor?Uo(e._0):Jo("Fido")}(),r={ctor:"::",_0:Lo("text"),_1:{ctor:"::",_0:jo("form-control"),_1:{ctor:"::",_0:Fo("dogName"),_1:{ctor:"::",_0:e,_1:{ctor:"::",_0:Go(Pr),_1:{ctor:"[]"}}}}}};return s(ho,{ctor:"::",_0:jo("form-group"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Eo,{ctor:"::",_0:Qo("dogName"),_1:{ctor:"[]"}},{ctor:"::",_0:co("Dog Name:"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(xo,r,{ctor:"[]"}),_1:{ctor:"[]"}}})},nc=r(function(t,e,r){var n=e?"show":"",o=s(g["++"],"collapse",t),i=s(g["++"],"heading",t);return s(ho,{ctor:"::",_0:jo("card"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("card-header"),_1:{ctor:"::",_0:Fo(i),_1:{ctor:"[]"}}},{ctor:"::",_0:s(fo,{ctor:"::",_0:jo("mb-0"),_1:{ctor:"[]"}},{ctor:"::",_0:s(No,{ctor:"::",_0:jo("btn btn-link"),_1:{ctor:"::",_0:Lo("button"),_1:{ctor:"::",_0:s(Io,"data-toggle","collapse"),_1:{ctor:"::",_0:s(Io,"data-target",s(g["++"],"#",o)),_1:{ctor:"::",_0:s(Io,"aria-expanded",Rt(y(e))),_1:{ctor:"::",_0:s(Io,"aria-controls",o),_1:{ctor:"[]"}}}}}}},{ctor:"::",_0:co(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ho,{ctor:"::",_0:jo(s(g["++"],"collapse ",n)),_1:{ctor:"::",_0:Fo(o),_1:{ctor:"::",_0:s(Io,"aria-labelledby",i),_1:{ctor:"::",_0:s(Io,"data-parent","#accordion"),_1:{ctor:"[]"}}}}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("card-body"),_1:{ctor:"[]"}},r),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}),oc=e(function(t,e){return f(nc,"Defaults",!1,{ctor:"::",_0:f(Vi,cr,t,e.food),_1:{ctor:"::",_0:f(Vi,ar,t,e.heartwormMedicine),_1:{ctor:"::",_0:f(Vi,ur,t,e.fleaTickMedicine),_1:{ctor:"[]"}}}})}),ic=function(t){return f(nc,"Settings",!0,{ctor:"::",_0:rc(t.dogName),_1:{ctor:"::",_0:Zi(t.unitSystem),_1:{ctor:"::",_0:s(ec,t.dogFoodPerDay,t.unitSystem),_1:{ctor:"::",_0:s(tc,ar,t.heartwormMedicineInterval),_1:{ctor:"::",_0:s(tc,ur,t.fleaTickMedicineInterval),_1:{ctor:"[]"}}}}}})},cc=e(function(t,e){return s(ho,{ctor:"::",_0:jo("accordion"),_1:{ctor:"::",_0:Fo("accordion"),_1:{ctor:"[]"}}},{ctor:"::",_0:ic(t),_1:{ctor:"::",_0:s(oc,t.unitSystem,e),_1:{ctor:"[]"}}})}),uc=s(ho,{ctor:"::",_0:jo("modal-header"),_1:{ctor:"[]"}},{ctor:"::",_0:s(fo,{ctor:"::",_0:jo("modal-title"),_1:{ctor:"::",_0:Fo("settingsModalLabel"),_1:{ctor:"[]"}}},{ctor:"::",_0:co("Settings/Defaults"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(No,{ctor:"::",_0:Lo("button"),_1:{ctor:"::",_0:jo("close"),_1:{ctor:"::",_0:s(Io,"data-dismiss","modal"),_1:{ctor:"::",_0:s(Io,"aria-label","Close"),_1:{ctor:"[]"}}}}},{ctor:"::",_0:s(vo,{ctor:"::",_0:s(Io,"aria-hidden","true"),_1:{ctor:"[]"}},{ctor:"::",_0:co("x"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),ac=e(function(t,e){var r=s(cc,t,e);return s(ho,{ctor:"::",_0:jo("modal fade"),_1:{ctor:"::",_0:Fo("settingsModal"),_1:{ctor:"::",_0:Oo(-1),_1:{ctor:"::",_0:s(Io,"role","dialog"),_1:{ctor:"::",_0:s(Io,"aria-hidden","true"),_1:{ctor:"::",_0:s(Io,"aria-labelledby","#settingsModalLabel"),_1:{ctor:"[]"}}}}}}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("modal-dialog modal-dialog-centered"),_1:{ctor:"::",_0:s(Io,"role","document"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(ho,{ctor:"::",_0:jo("modal-content"),_1:{ctor:"[]"}},{ctor:"::",_0:uc,_1:{ctor:"::",_0:r,_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})}),sc=function(t){return wi({ctor:"::",_0:s(Ji,cr,t),_1:{ctor:"::",_0:s(Ji,ar,t),_1:{ctor:"::",_0:s(Ji,ur,t),_1:{ctor:"[]"}}}})},fc=function(t){return s(ho,{ctor:"::",_0:jo("container"),_1:{ctor:"[]"}},{ctor:"::",_0:t,_1:{ctor:"[]"}})},lc=s(ao,{ctor:"::",_0:jo("display-2 text-center"),_1:{ctor:"[]"}},{ctor:"::",_0:s(po,{ctor:"::",_0:qo("./pets.png"),_1:{ctor:"::",_0:jo("mr-3"),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:co("dog-do"),_1:{ctor:"::",_0:s(po,{ctor:"::",_0:qo("./pets.png"),_1:{ctor:"::",_0:jo("ml-3"),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"[]"}}}}),_c=s(No,{ctor:"::",_0:s(Io,"data-toggle","modal"),_1:{ctor:"::",_0:s(Io,"data-target","#settingsModal"),_1:{ctor:"::",_0:jo("btn btn-link position-absolute ml-2 mt-2"),_1:{ctor:"::",_0:Fo("settings-icon"),_1:{ctor:"[]"}}}}},{ctor:"::",_0:s(po,{ctor:"::",_0:qo("./settings.png"),_1:{ctor:"[]"}},{ctor:"[]"}),_1:{ctor:"[]"}}),dc=function(t){return s(ho,{ctor:"[]"},{ctor:"::",_0:co(t.error),_1:{ctor:"::",_0:s(ac,t.settings,t.defaultPurchases),_1:{ctor:"::",_0:_c,_1:{ctor:"::",_0:lc,_1:{ctor:"::",_0:fc(sc(t)),_1:{ctor:"::",_0:Hi(t.pendingEvent),_1:{ctor:"::",_0:ii(t.eventToEdit),_1:{ctor:"[]"}}}}}}}})},hc=function(t){return it({ctor:"::",_0:vn(Dr),_1:{ctor:"::",_0:mn(Mr),_1:{ctor:"::",_0:pn(Ir),_1:{ctor:"::",_0:gn(Ar),_1:{ctor:"[]"}}}}})},vc={ctor:"_Tuple2",_0:dr,_1:Qn},pc=io({view:dc,init:vc,update:Mo,subscriptions:hc})(),mc={};if(mc.Main=mc.Main||{},void 0!==pc&&pc(mc.Main,"Main",void 0),"function"==typeof define&&define.amd)return void define([],function(){return mc});if("object"==typeof t)return void(t.exports=mc);var gc=this.Elm;if(void 0===gc)return void(this.Elm=mc);for(var yc in mc){if(yc in gc)throw new Error("There are two Elm modules called `"+yc+"` on this page! Rename one of them.");gc[yc]=mc[yc]}}).call(this)},function(t,e,r){"use strict";(function(t,r){function n(t,e){return"object"!=typeof e?t:(It(e).forEach(function(r){t[r]=e[r]}),t)}function o(t,e){return jt.call(t,e)}function i(t,e){"function"==typeof e&&(e=e(Ct(t))),It(e).forEach(function(r){c(t,r,e[r])})}function c(t,e,r,i){Ft(t,e,n(r&&o(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},i))}function u(t){return{from:function(e){return t.prototype=Object.create(e.prototype),c(t.prototype,"constructor",t),{extend:i.bind(null,t.prototype)}}}}function a(t,e){var r,n=qt(t,e);return n||(r=Ct(t))&&a(r,e)}function s(t,e,r){return Lt.call(t,e,r)}function f(t,e){return e(t)}function l(t){if(!t)throw new Error("Assertion Failed")}function _(t){Rt.setImmediate?r(t):setTimeout(t,0)}function d(t,e){return t.reduce(function(t,r,n){var o=e(r,n);return o&&(t[o[0]]=o[1]),t},{})}function h(t,e){return function(){try{t.apply(this,arguments)}catch(t){e(t)}}}function v(t,e,r){try{t.apply(null,r)}catch(t){e&&e(t)}}function p(t,e){if(o(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var r=[],n=0,i=e.length;n<i;++n){var c=p(t,e[n]);r.push(c)}return r}var u=e.indexOf(".");if(-1!==u){var a=t[e.substr(0,u)];return void 0===a?void 0:p(a,e.substr(u+1))}}function m(t,e,r){if(t&&void 0!==e&&!("isFrozen"in Object&&Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){l("string"!=typeof r&&"length"in r);for(var n=0,o=e.length;n<o;++n)m(t,e[n],r[n])}else{var i=e.indexOf(".");if(-1!==i){var c=e.substr(0,i),u=e.substr(i+1);if(""===u)void 0===r?delete t[c]:t[c]=r;else{var a=t[c];a||(a=t[c]={}),m(a,u,r)}}else void 0===r?delete t[e]:t[e]=r}}function g(t,e){"string"==typeof e?m(t,e,void 0):"length"in e&&[].map.call(e,function(e){m(t,e,void 0)})}function y(t){var e={};for(var r in t)o(t,r)&&(e[r]=t[r]);return e}function b(t){return Ut.apply([],t)}function w(t){if(!t||"object"!=typeof t)return t;var e;if(Ot(t)){e=[];for(var r=0,n=t.length;r<n;++r)e.push(w(t[r]))}else if(Jt.indexOf(t.constructor)>=0)e=t;else{e=t.constructor?Object.create(t.constructor.prototype):{};for(var i in t)o(t,i)&&(e[i]=w(t[i]))}return e}function k(t,e,r,n){return r=r||{},n=n||"",It(t).forEach(function(i){if(o(e,i)){var c=t[i],u=e[i];"object"==typeof c&&"object"==typeof u&&c&&u&&""+c.constructor==""+u.constructor?k(c,u,r,n+i+"."):c!==u&&(r[n+i]=e[i])}else r[n+i]=void 0}),It(e).forEach(function(i){o(t,i)||(r[n+i]=e[i])}),r}function T(t){var e,r,n,o;if(1===arguments.length){if(Ot(t))return t.slice();if(this===Wt&&"string"==typeof t)return[t];if(o=Qt(t)){for(r=[];n=o.next(),!n.done;)r.push(n.value);return r}if(null==t)return[t];if("number"==typeof(e=t.length)){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}function E(t,e){zt=t,Ht=e}function x(){if(Vt)try{throw x.arguments,new Error}catch(t){return t}return new Error}function N(t,e){var r=t.stack;return r?(e=e||0,0===r.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),r.split("\n").slice(e).filter(Ht).map(function(t){return"\n"+t}).join("")):""}function S(t,e){return function(){return console.warn(t+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+N(x(),1)),e.apply(this,arguments)}}function B(t,e){this._e=x(),this.name=t,this.message=e}function P(t,e){return t+". Errors: "+e.map(function(t){return t.toString()}).filter(function(t,e,r){return r.indexOf(t)===e}).join("\n")}function A(t,e,r,n){this._e=x(),this.failures=e,this.failedKeys=n,this.successCount=r}function D(t,e){this._e=x(),this.name="BulkError",this.failures=e,this.message=P(t,e)}function M(t,e){if(!t||t instanceof B||t instanceof TypeError||t instanceof SyntaxError||!t.name||!re[t.name])return t;var r=new re[t.name](e||t.message,t);return"stack"in t&&c(r,"stack",{get:function(){return this.inner.stack}}),r}function I(){}function O(t){return t}function R(t,e){return null==t||t===O?e:function(r){return e(t(r))}}function C(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function j(t,e){return t===I?e:function(){var r=t.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?C(n,this.onsuccess):n),o&&(this.onerror=this.onerror?C(o,this.onerror):o),void 0!==i?i:r}}function F(t,e){return t===I?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?C(r,this.onsuccess):r),n&&(this.onerror=this.onerror?C(n,this.onerror):n)}}function q(t,e){return t===I?e:function(r){var o=t.apply(this,arguments);n(r,o);var i=this.onsuccess,c=this.onerror;this.onsuccess=null,this.onerror=null;var u=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?C(i,this.onsuccess):i),c&&(this.onerror=this.onerror?C(c,this.onerror):c),void 0===o?void 0===u?void 0:u:n(o,u)}}function L(t,e){return t===I?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function U(t,e){return t===I?e:function(){var r=t.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return r.then(function(){return e.apply(n,i)})}return e.apply(this,arguments)}}function J(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=I,this._lib=!1;var e=this._PSD=xe;if(zt&&(this._stackHolder=x(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&W(this,this._value))}this._state=null,this._value=null,++e.ref,Q(this,t)}function K(t,e,r,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=r,this.reject=n,this.psd=o}function Q(t,e){try{e(function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&X();e&&"function"==typeof e.then?Q(t,function(t,r){e instanceof J?e._then(t,r):e.then(t,r)}):(t._state=!0,t._value=e,z(t)),r&&Z()}},W.bind(null,t))}catch(e){W(t,e)}}function W(t,e){if(we.push(e),null===t._state){var r=t._lib&&X();e=Te(e),t._state=!1,t._value=e,zt&&null!==e&&"object"==typeof e&&!e._promise&&v(function(){var r=a(e,"stack");e._promise=t,c(e,"stack",{get:function(){return ve?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),rt(t),z(t),r&&Z()}}function z(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)H(t,e[r]);var o=t._PSD;--o.ref||o.finalize(),0===Se&&(++Se,me(function(){0==--Se&&tt()},[]))}function H(t,e){if(null===t._state)return void t._listeners.push(e);var r=t._state?e.onFulfilled:e.onRejected;if(null===r)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Se,me(V,[r,t,e])}function V(t,e,r){try{ke=e;var n,o=e._value;e._state?n=t(o):(we.length&&(we=[]),n=t(o),-1===we.indexOf(o)&&nt(e)),r.resolve(n)}catch(t){r.reject(t)}finally{ke=null,0==--Se&&tt(),--r.psd.ref||r.psd.finalize()}}function $(t,e,r){if(e.length===r)return e;var n="";if(!1===t._state){var o,i,c=t._value;null!=c?(o=c.name||"Error",i=c.message||c,n=N(c,0)):(o=c,i=""),e.push(o+(i?": "+i:"")+n)}return zt&&(n=N(t._stackHolder,2),n&&-1===e.indexOf(n)&&e.push(n),t._prev&&$(t._prev,e,r)),e}function G(t,e){var r=e?e._numPrev+1:0;r<ie&&(t._prev=e,t._numPrev=r)}function Y(){X()&&Z()}function X(){var t=ge;return ge=!1,ye=!1,t}function Z(){var t,e,r;do{for(;Ne.length>0;)for(t=Ne,Ne=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}}while(Ne.length>0);ge=!0,ye=!0}function tt(){var t=be;be=[],t.forEach(function(t){t._PSD.onunhandled.call(null,t._value,t)});for(var e=Be.slice(0),r=e.length;r;)e[--r]()}function et(t){function e(){t(),Be.splice(Be.indexOf(e),1)}Be.push(e),++Se,me(function(){0==--Se&&tt()},[])}function rt(t){be.some(function(e){return e._value===t._value})||be.push(t)}function nt(t){for(var e=be.length;e;)if(be[--e]._value===t._value)return void be.splice(e,1)}function ot(t){return new J(oe,!1,t)}function it(t,e){var r=xe;return function(){var n=X(),o=xe;try{return _t(r,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{_t(o,!1),n&&Z()}}}function ct(t,e,r,o){var i=xe,c=Object.create(i);c.parent=i,c.ref=0,c.global=!1,c.id=++Ce;var u=Ee.env;c.env=he?{Promise:J,PromiseProp:{value:J,configurable:!0,writable:!0},all:J.all,race:J.race,resolve:J.resolve,reject:J.reject,nthen:mt(u.nthen,c),gthen:mt(u.gthen,c)}:{},e&&n(c,e),++i.ref,c.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=ht(c,t,r,o);return 0===c.ref&&c.finalize(),a}function ut(){return De.id||(De.id=++Me),++De.awaits,De.echoes+=ce,De.id}function at(t){!De.awaits||t&&t!==De.id||(0==--De.awaits&&(De.id=0),De.echoes=De.awaits*ce)}function st(t){return De.echoes&&t&&t.constructor===_e?(ut(),t.then(function(t){return at(),t},function(t){return at(),Fe(t)})):t}function ft(t){++Re,De.echoes&&0!=--De.echoes||(De.echoes=De.id=0),Ie.push(xe),_t(t,!0)}function lt(){var t=Ie[Ie.length-1];Ie.pop(),_t(t,!1)}function _t(t,e){var r=xe;if((e?!De.echoes||Oe++&&t===xe:!Oe||--Oe&&t===xe)||vt(e?ft.bind(null,t):lt),t!==xe&&(xe=t,r===Ee&&(Ee.env=dt()),he)){var n=Ee.env.Promise,o=t.env;se.then=o.nthen,n.prototype.then=o.gthen,(r.global||t.global)&&(Object.defineProperty(Rt,"Promise",o.PromiseProp),n.all=o.all,n.race=o.race,n.resolve=o.resolve,n.reject=o.reject)}}function dt(){var t=Rt.Promise;return he?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Rt,"Promise"),all:t.all,race:t.race,resolve:t.resolve,reject:t.reject,nthen:se.then,gthen:t.prototype.then}:{}}function ht(t,e,r,n,o){var i=xe;try{return _t(t,!0),e(r,n,o)}finally{_t(i,!1)}}function vt(t){le.call(ae,t)}function pt(t,e,r){return"function"!=typeof t?t:function(){var n=xe;r&&ut(),_t(e,!0);try{return t.apply(this,arguments)}finally{_t(n,!1)}}}function mt(t,e){return function(r,n){return t.call(this,pt(r,e,!1),pt(n,e,!1))}}function gt(t,e){var r;try{r=e.onuncatched(t)}catch(t){}if(!1!==r)try{var o,i={promise:e,reason:t};if(Rt.document&&document.createEvent?(o=document.createEvent("Event"),o.initEvent(je,!0,!0),n(o,i)):Rt.CustomEvent&&(o=new CustomEvent(je,{detail:i}),n(o,i)),o&&Rt.dispatchEvent&&(dispatchEvent(o),!Rt.PromiseRejectionEvent&&Rt.onunhandledrejection))try{Rt.onunhandledrejection(o)}catch(t){}o.defaultPrevented||console.warn("Unhandled rejection: "+(t.stack||t))}catch(t){}}function yt(t){function e(t,e,i){if("object"==typeof t)return r(t);e||(e=L),i||(i=I);var c={subscribers:[],fire:i,subscribe:function(t){-1===c.subscribers.indexOf(t)&&(c.subscribers.push(t),c.fire=e(c.fire,t))},unsubscribe:function(t){c.subscribers=c.subscribers.filter(function(e){return e!==t}),c.fire=c.subscribers.reduce(e,i)}};return n[t]=o[t]=c,c}function r(t){It(t).forEach(function(r){var n=t[r];if(Ot(n))e(r,t[r][0],t[r][1]);else{if("asap"!==n)throw new ee.InvalidArgument("Invalid event config");var o=e(r,O,function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];o.subscribers.forEach(function(t){_(function(){t.apply(null,e)})})})}})}var n={},o=function(e,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return n[e].subscribe.apply(null,i),t}if("string"==typeof e)return n[e]};o.addEventType=e;for(var i=1,c=arguments.length;i<c;++i)e(arguments[i]);return o}function bt(t,e){function r(t){this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function u(t,e,r){var n=Xt._createTransaction(Yt,Jt,Lt);n.create(e),n._completion.catch(r);var o=n._reject.bind(n);ct(function(){xe.trans=n,0===t?(It(Lt).forEach(function(t){g(e,t,Lt[t].primKey,Lt[t].indexes)}),J.follow(function(){return Xt.on.populate.fire(n)}).catch(o)):a(t,n,e).catch(o)})}function a(t,e,r){function n(){return o.length?J.resolve(o.shift()(e.idbtrans)).then(n):J.resolve()}var o=[],i=Ut.filter(function(e){return e._cfg.version===t})[0];if(!i)throw new ee.Upgrade("Dexie specification of currently installed DB version is missing");Lt=Xt._dbSchema=i._cfg.dbschema;var c=!1;return Ut.filter(function(e){return e._cfg.version>t}).forEach(function(t){o.push(function(){var n=Lt,o=t._cfg.dbschema;_t(n,r),_t(o,r),Lt=Xt._dbSchema=o;var i=_(n,o);if(i.add.forEach(function(t){g(r,t[0],t[1].primKey,t[1].indexes)}),i.change.forEach(function(t){if(t.recreate)throw new ee.Upgrade("Not yet support for changing primary key");var e=r.objectStore(t.name);t.add.forEach(function(t){B(e,t)}),t.change.forEach(function(t){e.deleteIndex(t.name),B(e,t)}),t.del.forEach(function(t){e.deleteIndex(t)})}),t._cfg.contentUpgrade)return c=!0,J.follow(function(){t._cfg.contentUpgrade(e)})}),o.push(function(e){c&&He||N(t._cfg.dbschema,e)})}),n().then(function(){E(Lt,r)})}function _(t,e){var r={del:[],add:[],change:[]};for(var n in t)e[n]||r.del.push(n);for(n in e){var o=t[n],i=e[n];if(o){var c={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(o.primKey.src!==i.primKey.src)c.recreate=!0,r.change.push(c);else{var u=o.idxByName,a=i.idxByName;for(var s in u)a[s]||c.del.push(s);for(s in a){var f=u[s],l=a[s];f?f.src!==l.src&&c.change.push(l):c.add.push(l)}(c.del.length>0||c.add.length>0||c.change.length>0)&&r.change.push(c)}}else r.add.push([n,i])}return r}function g(t,e,r,n){var o=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(function(t){B(o,t)}),o}function E(t,e){It(t).forEach(function(r){e.db.objectStoreNames.contains(r)||g(e,r,t[r].primKey,t[r].indexes)})}function N(t,e){for(var r=0;r<e.db.objectStoreNames.length;++r){var n=e.db.objectStoreNames[r];null==t[n]&&e.db.deleteObjectStore(n)}}function B(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function P(t,e,r){if(Gt||xe.letThrough){var n=Xt._createTransaction(t,e,Lt);try{n.create()}catch(t){return Fe(t)}return n._promise(t,function(t,e){return ct(function(){return xe.trans=n,r(t,e,n)})}).then(function(t){return n._completion.then(function(){return t})})}if(!Vt){if(!jt)return Fe(new ee.DatabaseClosed);Xt.open().catch(I)}return Zt.then(function(){return P(t,e,r)})}function M(t,e,r){var n=arguments.length;if(n<2)throw new ee.InvalidArgument("Too few arguments");for(var o=new Array(n-1);--n;)o[n-1]=arguments[n];return r=o.pop(),[t,b(o),r]}function C(t,e,r){this.name=t,this.schema=e,this._tx=r,this.hook=Kt[t]?Kt[t].hook:yt(null,{creating:[j,I],reading:[R,O],updating:[q,I],deleting:[F,I]})}function L(t,e,r){return(r?Nt:Et)(function(r){t.push(r),e&&e()})}function K(t,e,r,n,o){return new J(function(i,c){var u=r.length,a=u-1;if(0===u)return i();if(n){var s,f=Nt(c),l=Tt(null);v(function(){for(var n=0;n<u;++n){s={onsuccess:null,onerror:null};var c=r[n];o.call(s,c[0],c[1],e);var _=t.delete(c[0]);_._hookCtx=s,_.onerror=f,_.onsuccess=n===a?Tt(i):l}},function(t){throw s.onerror&&s.onerror(t),t})}else for(var _=0;_<u;++_){var d=t.delete(r[_]);d.onerror=Et(c),_===a&&(d.onsuccess=it(function(){return i()}))}})}function Q(t,e,r,n){var o=this;this.db=Xt,this.mode=t,this.storeNames=e,this.idbtrans=null,this.on=yt(this,"complete","error","abort"),this.parent=n||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new J(function(t,e){o._resolve=t,o._reject=e}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(t){var e=o.active;return o.active=!1,o.on.error.fire(t),o.parent?o.parent._reject(t):e&&o.idbtrans&&o.idbtrans.abort(),Fe(t)})}function W(t,e,r){this._ctx={table:t,index:":id"===e?null:e,or:r}}function z(t,e){var r=null,n=null;if(e)try{r=e()}catch(t){n=t}var o=t._ctx,i=o.table;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:o.or,valueMapper:i.hook.reading.fire}}function H(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function V(t,e){return t._cfg.version-e._cfg.version}function $(t,e,r){e.forEach(function(e){var n=r[e];t.forEach(function(t){e in t||(t===Q.prototype||t instanceof Q?c(t,e,{get:function(){return this.table(e)}}):t[e]=new C(e,n))})})}function G(t){t.forEach(function(t){for(var e in t)t[e]instanceof C&&delete t[e]})}function Y(t,e,r,n,o,i){var c=i?function(t,e,n){return r(i(t),e,n)}:r,u=it(c,o);t.onerror||(t.onerror=Et(o)),t.onsuccess=e?h(function(){var r=t.result;if(r){var i=function(){r.continue()};e(r,function(t){i=t},n,o)&&u(r.value,r,function(t){i=t}),i()}else n()},o):h(function(){var e=t.result;if(e){var r=function(){e.continue()};u(e.value,e,function(t){r=t}),r()}else n()},o)}function X(t){var e=[];return t.split(",").forEach(function(t){t=t.trim();var r=t.replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;e.push(new Pt(r,n||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Ot(n),/\./.test(t)))}),e}function Z(t,e){return Ft.cmp(t,e)}function tt(t,e){return Z(t,e)<0?t:e}function et(t,e){return Z(t,e)>0?t:e}function rt(t,e){return Ft.cmp(t,e)}function nt(t,e){return Ft.cmp(e,t)}function ot(t,e){return t<e?-1:t===e?0:1}function st(t,e){return t>e?-1:t===e?0:1}function ft(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}function lt(){if(Xt.verno=Qt.version/10,Xt._dbSchema=Lt={},Jt=s(Qt.objectStoreNames,0),0!==Jt.length){var t=Qt.transaction(Dt(Jt),"readonly");Jt.forEach(function(e){for(var r=t.objectStore(e),n=r.keyPath,o=n&&"string"==typeof n&&-1!==n.indexOf("."),i=new Pt(n,n||"",!1,!1,!!r.autoIncrement,n&&"string"!=typeof n,o),c=[],u=0;u<r.indexNames.length;++u){var a=r.index(r.indexNames[u]);n=a.keyPath,o=n&&"string"==typeof n&&-1!==n.indexOf(".");var s=new Pt(a.name,n,!!a.unique,!!a.multiEntry,!1,n&&"string"!=typeof n,o);c.push(s)}Lt[e]=new At(e,i,c,{})}),$([Kt],It(Lt),Lt)}}function _t(t,e){for(var r=e.db.objectStoreNames,n=0;n<r.length;++n){var o=r[n],i=e.objectStore(o);mt="getAll"in i;for(var c=0;c<i.indexNames.length;++c){var u=i.indexNames[c],a=i.index(u).keyPath,f="string"==typeof a?a:"["+s(a).join("+")+"]";if(t[o]){var l=t[o].idxByName[f];l&&(l.name=u)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Rt.WorkerGlobalScope&&Rt instanceof Rt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(mt=!1)}function dt(t){Xt.on("blocked").fire(t),We.filter(function(t){return t.name===Xt.name&&t!==Xt&&!t._vcFired}).map(function(e){return e.on("versionchange").fire(t)})}var vt,pt,mt,gt=bt.dependencies,wt=n({addons:bt.addons,autoOpen:!0,indexedDB:gt.indexedDB,IDBKeyRange:gt.IDBKeyRange},e),Ct=wt.addons,jt=wt.autoOpen,Ft=wt.indexedDB,qt=wt.IDBKeyRange,Lt=this._dbSchema={},Ut=[],Jt=[],Kt={},Qt=null,Ht=null,Vt=!1,$t=null,Gt=!1,Yt="readwrite",Xt=this,Zt=new J(function(t){vt=t}),te=new J(function(t,e){pt=e}),re=!0,ne=!!Mt(Ft);this.version=function(t){if(Qt||Vt)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=Ut.filter(function(e){return e._cfg.version===t})[0];return e||(e=new r(t),Ut.push(e),Ut.sort(V),re=!1,e)},n(r.prototype,{stores:function(t){this._cfg.storesSource=this._cfg.storesSource?n(this._cfg.storesSource,t):t;var e={};Ut.forEach(function(t){n(e,t._cfg.storesSource)});var r=this._cfg.dbschema={};return this._parseStoresSpec(e,r),Lt=Xt._dbSchema=r,G([Kt,Xt,Q.prototype]),$([Kt,Xt,Q.prototype,this._cfg.tables],It(r),r),Jt=It(r),this},upgrade:function(t){return this._cfg.contentUpgrade=t,this},_parseStoresSpec:function(t,e){It(t).forEach(function(r){if(null!==t[r]){var n={},o=X(t[r]),i=o.shift();if(i.multi)throw new ee.Schema("Primary key cannot be multi-valued");i.keyPath&&m(n,i.keyPath,i.auto?0:i.keyPath),o.forEach(function(t){if(t.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string");m(n,t.keyPath,t.compound?t.keyPath.map(function(){return""}):"")}),e[r]=new At(r,i,o,n)}})}}),this._allTables=Kt,this._createTransaction=function(t,e,r,n){return new Q(t,e,r,n)},this._whenReady=function(t){return Gt||xe.letThrough?t():new J(function(t,e){if(!Vt){if(!jt)return void e(new ee.DatabaseClosed);Xt.open().catch(I)}Zt.then(t,e)}).then(t)},this.verno=0,this.open=function(){if(Vt||Qt)return Zt.then(function(){return Ht?Fe(Ht):Xt});zt&&(te._stackHolder=x()),Vt=!0,Ht=null,Gt=!1;var e=vt,r=null;return J.race([te,new J(function(e,n){if(!Ft)throw new ee.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var o=re?Ft.open(t):Ft.open(t,Math.round(10*Xt.verno));if(!o)throw new ee.MissingAPI("IndexedDB API not available");o.onerror=Et(n),o.onblocked=it(dt),o.onupgradeneeded=it(function(e){if(r=o.transaction,re&&!Xt._allowEmptyDB){o.onerror=St,r.abort(),o.result.close();var i=Ft.deleteDatabase(t);i.onsuccess=i.onerror=it(function(){n(new ee.NoSuchDatabase("Database "+t+" doesnt exist"))})}else{r.onerror=Et(n);u((e.oldVersion>Math.pow(2,62)?0:e.oldVersion)/10,r,n)}},n),o.onsuccess=it(function(){if(r=null,Qt=o.result,We.push(Xt),re)lt();else if(Qt.objectStoreNames.length>0)try{_t(Lt,Qt.transaction(Dt(Qt.objectStoreNames),"readonly"))}catch(t){}Qt.onversionchange=it(function(t){Xt._vcFired=!0,Xt.on("versionchange").fire(t)}),ne||"__dbnames"===t||Ae.dbnames.put({name:t}).catch(I),e()},n)})]).then(function(){return $t=[],J.resolve(bt.vip(Xt.on.ready.fire)).then(function t(){if($t.length>0){var e=$t.reduce(U,I);return $t=[],J.resolve(bt.vip(e)).then(t)}})}).finally(function(){$t=null}).then(function(){return Vt=!1,Xt}).catch(function(t){try{r&&r.abort()}catch(t){}return Vt=!1,Xt.close(),Ht=t,Fe(Ht)}).finally(function(){Gt=!0,e()})},this.close=function(){var t=We.indexOf(Xt);if(t>=0&&We.splice(t,1),Qt){try{Qt.close()}catch(t){}Qt=null}jt=!1,Ht=new ee.DatabaseClosed,Vt&&pt(Ht),Zt=new J(function(t){vt=t}),te=new J(function(t,e){pt=e})},this.delete=function(){var e=arguments.length>0;return new J(function(r,n){function o(){Xt.close();var e=Ft.deleteDatabase(t);e.onsuccess=it(function(){ne||Ae.dbnames.delete(t).catch(I),r()}),e.onerror=Et(n),e.onblocked=dt}if(e)throw new ee.InvalidArgument("Arguments not allowed in db.delete()");Vt?Zt.then(o):o()})},this.backendDB=function(){return Qt},this.isOpen=function(){return null!==Qt},this.hasBeenClosed=function(){return Ht&&Ht instanceof ee.DatabaseClosed},this.hasFailed=function(){return null!==Ht},this.dynamicallyOpened=function(){return re},this.name=t,i(this,{tables:{get:function(){return It(Kt).map(function(t){return Kt[t]})}}}),this.on=yt(this,"populate","blocked","versionchange",{ready:[U,I]}),this.on.ready.subscribe=f(this.on.ready.subscribe,function(t){return function(e,r){bt.vip(function(){Gt?(Ht||J.resolve().then(e),r&&t(e)):$t?($t.push(e),r&&t(e)):(t(e),r||t(function t(){Xt.on.ready.unsubscribe(e),Xt.on.ready.unsubscribe(t)}))})}}),this.transaction=function(){var t=M.apply(this,arguments);return this._transaction.apply(this,t)},this._transaction=function(t,e,r){function n(){return J.resolve().then(function(){var e=xe.transless||xe,n=Xt._createTransaction(t,c,Lt,o),i={trans:n,transless:e};o?n.idbtrans=o.idbtrans:n.create(),r.constructor===de&&ut();var u,a=J.follow(function(){if(u=r.call(n,n))if(u.constructor===_e){var t=at.bind(null,null);u.then(t,t)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=Bt(u))},i);return(u&&"function"==typeof u.then?J.resolve(u).then(function(t){return n.active?t:Fe(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):a.then(function(){return u})).then(function(t){return o&&n._resolve(),n._completion.then(function(){return t})}).catch(function(t){return n._reject(t),Fe(t)})})}var o=xe.trans;o&&o.db===Xt&&-1===t.indexOf("!")||(o=null);var i=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{var c=e.map(function(t){var e=t instanceof C?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e});if("r"==t||"readonly"==t)t="readonly";else{if("rw"!=t&&t!=Yt)throw new ee.InvalidArgument("Invalid transaction mode: "+t);t=Yt}if(o){if("readonly"===o.mode&&t===Yt){if(!i)throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&c.forEach(function(t){if(o&&-1===o.storeNames.indexOf(t)){if(!i)throw new ee.SubTransaction("Table "+t+" not included in parent transaction.");o=null}}),i&&o&&!o.active&&(o=null)}}catch(t){return o?o._promise(null,function(e,r){r(t)}):Fe(t)}return o?o._promise(t,n,"lock"):xe.trans?ht(xe.transless,function(){return Xt._whenReady(n)}):Xt._whenReady(n)},this.table=function(t){if(!o(Kt,t))throw new ee.InvalidTable("Table "+t+" does not exist");return Kt[t]},i(C.prototype,{_trans:function(t,e,r){var n=this._tx||xe.trans;return n&&n.db===Xt?n===xe.trans?n._promise(t,e,r):ct(function(){return n._promise(t,e,r)},{trans:n,transless:xe.transless||xe}):P(t,[this.name],e)},_idbstore:function(t,e,r){function n(t,r,n){if(-1===n.storeNames.indexOf(o))throw new ee.NotFound("Table"+o+" not part of transaction");return e(t,r,n.idbtrans.objectStore(o),n)}var o=this.name;return this._trans(t,n,r)},get:function(t,e){if(t&&t.constructor===Object)return this.where(t).first(e);var r=this;return this._idbstore("readonly",function(e,n,o){var i=o.get(t);i.onerror=Et(n),i.onsuccess=it(function(){e(r.hook.reading.fire(i.result))},n)}).then(e)},where:function(t){if("string"==typeof t)return new W(this,t);if(Ot(t))return new W(this,"["+t.join("+")+"]");var e=It(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(t){return t.compound&&e.every(function(e){return t.keyPath.indexOf(e)>=0})&&t.keyPath.every(function(t){return e.indexOf(t)>=0})})[0];if(r&&Ue!==Le)return this.where(r.name).equals(r.keyPath.map(function(e){return t[e]}));r||console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var n=this.schema.idxByName,o=e.reduce(function(e,r){return[e[0]||n[r],e[0]||!n[r]?ft(e[1],function(e){return""+p(e,r)==""+t[r]}):e[1]]},[null,null]),i=o[0];return i?this.where(i.name).equals(t[i.keyPath]).filter(o[1]):r?this.filter(o[1]):this.where(e).equals("")},count:function(t){return this.toCollection().count(t)},offset:function(t){return this.toCollection().offset(t)},limit:function(t){return this.toCollection().limit(t)},reverse:function(){return this.toCollection().reverse()},filter:function(t){return this.toCollection().and(t)},each:function(t){return this.toCollection().each(t)},toArray:function(t){return this.toCollection().toArray(t)},orderBy:function(t){return new z(new W(this,Ot(t)?"["+t.join("+")+"]":t))},toCollection:function(){return new z(new W(this))},mapToClass:function(t,e){this.schema.mappedClass=t;var r=Object.create(t.prototype);e&&kt(r,e),this.schema.instanceTemplate=r;var n=function(e){if(!e)return e;var r=Object.create(t.prototype);for(var n in e)if(o(e,n))try{r[n]=e[n]}catch(t){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t},defineClass:function(t){return this.mapToClass(bt.defineClass(t),t)},bulkDelete:function(t){return this.hook.deleting.fire===I?this._idbstore(Yt,function(e,r,n,o){e(K(n,o,t,!1,I))}):this.where(":id").anyOf(t).delete().then(function(){})},bulkPut:function(t,e){var r=this;return this._idbstore(Yt,function(n,o,i){if(!i.keyPath&&!r.schema.primKey.auto&&!e)throw new ee.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(i.keyPath&&e)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return n();var c,u,a=function(t){0===s.length?n(t):o(new D(r.name+".bulkPut(): "+s.length+" of "+f+" operations failed",s))},s=[],f=t.length,l=r;if(r.hook.creating.fire===I&&r.hook.updating.fire===I){u=L(s);for(var _=0,h=t.length;_<h;++_)c=e?i.put(t[_],e[_]):i.put(t[_]),c.onerror=u;c.onerror=L(s,a),c.onsuccess=xt(a)}else{var v=e||i.keyPath&&t.map(function(t){return p(t,i.keyPath)}),m=v&&d(v,function(e,r){return null!=e&&[e,t[r]]});(v?l.where(":id").anyOf(v.filter(function(t){return null!=t})).modify(function(){this.value=m[this.primKey],m[this.primKey]=null}).catch(A,function(t){s=t.failures}).then(function(){for(var r=[],n=e&&[],o=v.length-1;o>=0;--o){var i=v[o];(null==i||m[i])&&(r.push(t[o]),e&&n.push(i),null!=i&&(m[i]=null))}return r.reverse(),e&&n.reverse(),l.bulkAdd(r,n)}).then(function(t){var e=v[v.length-1];return null!=e?e:t}):l.bulkAdd(t)).then(a).catch(D,function(t){s=s.concat(t.failures),a()}).catch(o)}},"locked")},bulkAdd:function(t,e){var r=this,n=this.hook.creating.fire;return this._idbstore(Yt,function(o,i,c,u){function a(t){0===_.length?o(t):i(new D(r.name+".bulkAdd(): "+_.length+" of "+d+" operations failed",_))}if(!c.keyPath&&!r.schema.primKey.auto&&!e)throw new ee.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(c.keyPath&&e)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return o();var s,f,l,_=[],d=t.length;if(n!==I){var h,g=c.keyPath;f=L(_,null,!0),l=Tt(null),v(function(){for(var r=0,o=t.length;r<o;++r){h={onerror:null,onsuccess:null};var i=e&&e[r],a=t[r],_=e?i:g?p(a,g):void 0,d=n.call(h,_,a,u);null==_&&null!=d&&(g?(a=w(a),m(a,g,d)):i=d),s=null!=i?c.add(a,i):c.add(a),s._hookCtx=h,r<o-1&&(s.onerror=f,h.onsuccess&&(s.onsuccess=l))}},function(t){throw h.onerror&&h.onerror(t),t}),s.onerror=L(_,a,!0),s.onsuccess=Tt(a)}else{f=L(_);for(var y=0,b=t.length;y<b;++y)s=e?c.add(t[y],e[y]):c.add(t[y]),s.onerror=f;s.onerror=L(_,a),s.onsuccess=xt(a)}})},add:function(t,e){var r=this.hook.creating.fire;return this._idbstore(Yt,function(n,o,i,c){var u={onsuccess:null,onerror:null};if(r!==I){var a=null!=e?e:i.keyPath?p(t,i.keyPath):void 0,s=r.call(u,a,t,c);null==a&&null!=s&&(i.keyPath?m(t,i.keyPath,s):e=s)}try{var f=null!=e?i.add(t,e):i.add(t);f._hookCtx=u,f.onerror=Nt(o),f.onsuccess=Tt(function(e){var r=i.keyPath;r&&m(t,r,e),n(e)})}catch(t){throw u.onerror&&u.onerror(t),t}})},put:function(t,e){var r=this,n=this.hook.creating.fire,o=this.hook.updating.fire;if(n!==I||o!==I){var i=this.schema.primKey.keyPath,c=void 0!==e?e:i&&p(t,i);return null==c?this.add(t):(t=w(t),this._trans(Yt,function(){return r.where(":id").equals(c).modify(function(){this.value=t}).then(function(n){return 0===n?r.add(t,e):c})},"locked"))}return this._idbstore(Yt,function(r,n,o){var i=void 0!==e?o.put(t,e):o.put(t);i.onerror=Et(n),i.onsuccess=it(function(e){var n=o.keyPath;n&&m(t,n,e.target.result),r(i.result)})})},delete:function(t){return this.hook.deleting.subscribers.length?this.where(":id").equals(t).delete():this._idbstore(Yt,function(e,r,n){var o=n.delete(t);o.onerror=Et(r),o.onsuccess=it(function(){e(o.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(Yt,function(t,e,r){var n=r.clear();n.onerror=Et(e),n.onsuccess=it(function(){t(n.result)})})},update:function(t,e){if("object"!=typeof e||Ot(e))throw new ee.InvalidArgument("Modifications must be an object.");if("object"!=typeof t||Ot(t))return this.where(":id").equals(t).modify(e);It(e).forEach(function(r){m(t,r,e[r])});var r=p(t,this.schema.primKey.keyPath);return void 0===r?Fe(new ee.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(e)}}),i(Q.prototype,{_lock:function(){return l(!xe.global),++this._reculock,1!==this._reculock||xe.global||(xe.lockOwnerFor=this),this},_unlock:function(){if(l(!xe.global),0==--this._reculock)for(xe.global||(xe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{ht(t[1],t[0])}catch(t){}}return this},_locked:function(){return this._reculock&&xe.lockOwnerFor!==this},create:function(t){var e=this;if(!this.mode)return this;if(l(!this.idbtrans),!t&&!Qt)switch(Ht&&Ht.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(Ht);case"MissingAPIError":throw new ee.MissingAPI(Ht.message,Ht);default:throw new ee.OpenFailed(Ht)}if(!this.active)throw new ee.TransactionInactive;return l(null===this._completion._state),t=this.idbtrans=t||Qt.transaction(Dt(this.storeNames),this.mode),t.onerror=it(function(r){St(r),e._reject(t.error)}),t.onabort=it(function(r){St(r),e.active&&e._reject(new ee.Abort(t.error)),e.active=!1,e.on("abort").fire(r)}),t.oncomplete=it(function(){e.active=!1,e._resolve()}),this},_promise:function(t,e,r){var n=this;if(t===Yt&&this.mode!==Yt)return Fe(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return Fe(new ee.TransactionInactive);if(this._locked())return new J(function(o,i){n._blockedFuncs.push([function(){n._promise(t,e,r).then(o,i)},xe])});if(r)return ct(function(){var t=new J(function(t,r){n._lock();var o=e(t,r,n);o&&o.then&&o.then(t,r)});return t.finally(function(){return n._unlock()}),t._lib=!0,t});var o=new J(function(t,r){var o=e(t,r,n);o&&o.then&&o.then(t,r)});return o._lib=!0,o},_root:function(){return this.parent?this.parent._root():this},waitFor:function(t){var e=this._root();if(t=J.resolve(t),e._waitingFor)e._waitingFor=e._waitingFor.then(function(){return t});else{e._waitingFor=t,e._waitingQueue=[];var r=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(r.get(-1/0).onsuccess=t)}()}var n=e._waitingFor;return new J(function(r,o){t.then(function(t){return e._waitingQueue.push(it(r.bind(null,t)))},function(t){return e._waitingQueue.push(it(o.bind(null,t)))}).finally(function(){e._waitingFor===n&&(e._waitingFor=null)})})},abort:function(){this.active&&this._reject(new ee.Abort),this.active=!1},tables:{get:S("Transaction.tables",function(){return Kt})},table:function(t){return new C(t,Xt.table(t).schema,this)}}),i(W.prototype,function(){function t(t,e,r){var n=t instanceof W?new z(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function e(t){return new z(t,function(){return qt.only("")}).limit(0)}function r(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function n(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function o(t,e,r,n,o,i){for(var c=Math.min(t.length,n.length),u=-1,a=0;a<c;++a){var s=e[a];if(s!==n[a])return o(t[a],r[a])<0?t.substr(0,a)+r[a]+r.substr(a+1):o(t[a],n[a])<0?t.substr(0,a)+n[a]+r.substr(a+1):u>=0?t.substr(0,u)+e[u]+r.substr(u+1):null;o(t[a],s)<0&&(u=a)}return c<n.length&&"next"===i?t+r.substr(t.length):c<t.length&&"prev"===i?t.substr(0,r.length):u<0?null:t.substr(0,u)+n[u]+r.substr(u+1)}function i(e,i,c,u){function a(t){s=r(t),f=n(t),l="next"===t?ot:st;var e=c.map(function(t){return{lower:f(t),upper:s(t)}}).sort(function(t,e){return l(t.lower,e.lower)});_=e.map(function(t){return t.upper}),d=e.map(function(t){return t.lower}),h=t,v="next"===t?"":u}var s,f,l,_,d,h,v,p=c.length;if(!c.every(function(t){return"string"==typeof t}))return t(e,Qe);a("next");var m=new z(e,function(){return qt.bound(_[0],d[p-1]+u)});m._ondirectionchange=function(t){a(t)};var g=0;return m._addAlgorithm(function(t,e,r){var n=t.key;if("string"!=typeof n)return!1;var c=f(n);if(i(c,d,g))return!0;for(var u=null,a=g;a<p;++a){var s=o(n,c,_[a],d[a],l,h);null===s&&null===u?g=a+1:(null===u||l(u,s)>0)&&(u=s)}return e(null!==u?function(){t.continue(u+v)}:r),!1}),m}return{between:function(r,n,o,i){o=!1!==o,i=!0===i;try{return Z(r,n)>0||0===Z(r,n)&&(o||i)&&(!o||!i)?e(this):new z(this,function(){return qt.bound(r,n,!o,!i)})}catch(e){return t(this,Ke)}},equals:function(t){return new z(this,function(){return qt.only(t)})},above:function(t){return new z(this,function(){return qt.lowerBound(t,!0)})},aboveOrEqual:function(t){return new z(this,function(){return qt.lowerBound(t)})},below:function(t){return new z(this,function(){return qt.upperBound(t,!0)})},belowOrEqual:function(t){return new z(this,function(){return qt.upperBound(t)})},startsWith:function(e){return"string"!=typeof e?t(this,Qe):this.between(e,e+Le,!0,!0)},startsWithIgnoreCase:function(t){return""===t?this.startsWith(t):i(this,function(t,e){return 0===t.indexOf(e[0])},[t],Le)},equalsIgnoreCase:function(t){return i(this,function(t,e){return t===e[0]},[t],"")},anyOfIgnoreCase:function(){var t=T.apply(Wt,arguments);return 0===t.length?e(this):i(this,function(t,e){return-1!==e.indexOf(t)},t,"")},startsWithAnyOfIgnoreCase:function(){var t=T.apply(Wt,arguments);return 0===t.length?e(this):i(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},t,Le)},anyOf:function(){var r=T.apply(Wt,arguments),n=rt;try{r.sort(n)}catch(e){return t(this,Ke)}if(0===r.length)return e(this);var o=new z(this,function(){return qt.bound(r[0],r[r.length-1])});o._ondirectionchange=function(t){n="next"===t?rt:nt,r.sort(n)};var i=0;return o._addAlgorithm(function(t,e,o){for(var c=t.key;n(c,r[i])>0;)if(++i===r.length)return e(o),!1;return 0===n(c,r[i])||(e(function(){t.continue(r[i])}),!1)}),o},notEqual:function(t){return this.inAnyRange([[Je,t],[t,Ue]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var e=T.apply(Wt,arguments);if(0===e.length)return new z(this);try{e.sort(rt)}catch(e){return t(this,Ke)}var r=e.reduce(function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[Je,e]]},null);return r.push([e[e.length-1],Ue]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(r,n){function o(t,e){for(var r=0,n=t.length;r<n;++r){var o=t[r];if(Z(e[0],o[1])<0&&Z(e[1],o[0])>0){o[0]=tt(o[0],e[0]),o[1]=et(o[1],e[1]);break}}return r===n&&t.push(e),t}function i(t,e){return f(t[0],e[0])}function c(t){return!_(t)&&!d(t)}if(0===r.length)return e(this);if(!r.every(function(t){return void 0!==t[0]&&void 0!==t[1]&&rt(t[0],t[1])<=0}))return t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);var u,a=!n||!1!==n.includeLowers,s=n&&!0===n.includeUppers,f=rt;try{u=r.reduce(o,[]),u.sort(i)}catch(e){return t(this,Ke)}var l=0,_=s?function(t){return rt(t,u[l][1])>0}:function(t){return rt(t,u[l][1])>=0},d=a?function(t){return nt(t,u[l][0])>0}:function(t){return nt(t,u[l][0])>=0},h=_,v=new z(this,function(){return qt.bound(u[0][0],u[u.length-1][1],!a,!s)});return v._ondirectionchange=function(t){"next"===t?(h=_,f=rt):(h=d,f=nt),u.sort(i)},v._addAlgorithm(function(t,e,r){for(var n=t.key;h(n);)if(++l===u.length)return e(r),!1;return!!c(n)||0!==Z(n,u[l][1])&&0!==Z(n,u[l][0])&&(e(function(){f===rt?t.continue(u[l][0]):t.continue(u[l][1])}),!1)}),v},startsWithAnyOf:function(){var r=T.apply(Wt,arguments);return r.every(function(t){return"string"==typeof t})?0===r.length?e(this):this.inAnyRange(r.map(function(t){return[t,t+Le]})):t(this,"startsWithAnyOf() only works with strings")}}}),i(z.prototype,function(){function t(t,e){t.filter=ft(t.filter,e)}function e(t,e,r){var n=t.replayFilter;t.replayFilter=n?function(){return ft(n(),e())}:e,t.justLimit=r&&!n}function r(t,e){t.isMatch=ft(t.isMatch,e)}function i(t,e){if(t.isPrimKey)return e;var r=t.table.schema.idxByName[t.index];if(!r)throw new ee.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return e.index(r.name)}function c(t,e){var r=i(t,e);return t.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(t.range||null,t.dir+t.unique):r.openCursor(t.range||null,t.dir+t.unique)}function u(t,e,r,n,i){var u=t.replayFilter?ft(t.filter,t.replayFilter()):t.filter;t.or?function(){function a(){2==++l&&r()}function s(t,r,i){if(!u||u(r,i,a,n)){var c=r.primaryKey,s=""+c;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(c)),o(f,s)||(f[s]=!0,e(t,r,i))}}var f={},l=0;t.or._iterate(s,a,n,i),Y(c(t,i),t.algorithm,s,a,n,!t.keysOnly&&t.valueMapper)}():Y(c(t,i),ft(t.algorithm,u),e,r,n,!t.keysOnly&&t.valueMapper)}return{_read:function(t,e){var r=this._ctx;return r.error?r.table._trans(null,Fe.bind(null,r.error)):r.table._idbstore("readonly",t).then(e)},_write:function(t){var e=this._ctx;return e.error?e.table._trans(null,Fe.bind(null,e.error)):e.table._idbstore(Yt,t,"locked")},_addAlgorithm:function(t){var e=this._ctx;e.algorithm=ft(e.algorithm,t)},_iterate:function(t,e,r,n){return u(this._ctx,t,e,r,n)},clone:function(t){var e=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&n(r,t),e._ctx=r,e},raw:function(){return this._ctx.valueMapper=null,this},each:function(t){var e=this._ctx;return this._read(function(r,n,o){u(e,t,r,n,o)})},count:function(t){var e=this._ctx;if(H(e,!0))return this._read(function(t,r,n){var o=i(e,n),c=e.range?o.count(e.range):o.count();c.onerror=Et(r),c.onsuccess=function(r){t(Math.min(r.target.result,e.limit))}},t);var r=0;return this._read(function(t,n,o){u(e,function(){return++r,!1},function(){t(r)},n,o)},t)},sortBy:function(t,e){function r(t,e){return e?r(t[o[e]],e-1):t[i]}function n(t,e){var n=r(t,c),o=r(e,c);return n<o?-u:n>o?u:0}var o=t.split(".").reverse(),i=o[0],c=o.length-1,u="next"===this._ctx.dir?1:-1;return this.toArray(function(t){return t.sort(n)}).then(e)},toArray:function(t){var e=this._ctx;return this._read(function(t,r,n){if(mt&&"next"===e.dir&&H(e,!0)&&e.limit>0){var o=e.table.hook.reading.fire,c=i(e,n),a=e.limit<1/0?c.getAll(e.range,e.limit):c.getAll(e.range);a.onerror=Et(r),a.onsuccess=xt(o===O?t:function(e){try{t(e.map(o))}catch(t){r(t)}})}else{var s=[];u(e,function(t){s.push(t)},function(){t(s)},r,n)}},t)},offset:function(t){var r=this._ctx;return t<=0?this:(r.offset+=t,H(r)?e(r,function(){var e=t;return function(t,r){return 0===e||(1===e?(--e,!1):(r(function(){t.advance(e),e=0}),!1))}}):e(r,function(){var e=t;return function(){return--e<0}}),this)},limit:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),e(this._ctx,function(){var e=t;return function(t,r,n){return--e<=0&&r(n),e>=0}},!0),this},until:function(e,r){return t(this._ctx,function(t,n,o){return!e(t.value)||(n(o),r)}),this},first:function(t){return this.limit(1).toArray(function(t){return t[0]}).then(t)},last:function(t){return this.reverse().first(t)},filter:function(e){return t(this._ctx,function(t){return e(t.value)}),r(this._ctx,e),this},and:function(t){return this.filter(t)},or:function(t){return new W(this._ctx.table,t,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,r){t(r.key,r)})},eachUniqueKey:function(t){return this._ctx.unique="unique",this.eachKey(t)},eachPrimaryKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,r){t(r.primaryKey,r)})},keys:function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var r=[];return this.each(function(t,e){r.push(e.key)}).then(function(){return r}).then(t)},primaryKeys:function(t){var e=this._ctx;if(mt&&"next"===e.dir&&H(e,!0)&&e.limit>0)return this._read(function(t,r,n){var o=i(e,n),c=e.limit<1/0?o.getAllKeys(e.range,e.limit):o.getAllKeys(e.range);c.onerror=Et(r),c.onsuccess=xt(t)}).then(t);e.keysOnly=!e.isMatch;var r=[];return this.each(function(t,e){r.push(e.primaryKey)}).then(function(){return r}).then(t)},uniqueKeys:function(t){return this._ctx.unique="unique",this.keys(t)},firstKey:function(t){return this.limit(1).keys(function(t){return t[0]}).then(t)},lastKey:function(t){return this.reverse().firstKey(t)},distinct:function(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return t(this._ctx,function(t){var e=t.primaryKey.toString(),r=o(n,e);return n[e]=!0,!r}),this},modify:function(t){var e=this,r=this._ctx,i=r.table.hook,c=i.updating.fire,u=i.deleting.fire;return this._write(function(r,i,a,s){function f(t,e){function r(t){return N.push(t),S.push(n.primKey),_(),!0}B=e.primaryKey;var n={primKey:e.primaryKey,value:t,onsuccess:null,onerror:null};if(!1!==d.call(n,t,n)){var i=!o(n,"value");++T,v(function(){var t=i?e.delete():e.update(n.value);t._hookCtx=n,t.onerror=Nt(r),t.onsuccess=Tt(function(){++E,_()})},r)}else n.onsuccess&&n.onsuccess(n.value)}function l(t){return t&&(N.push(t),S.push(B)),i(new A("Error modifying one or more objects",N,E,S))}function _(){x&&E+N.length===T&&(N.length>0?l():r(E))}var d;if("function"==typeof t)d=c===I&&u===I?t:function(e){var r=w(e);if(!1===t.call(this,e,this))return!1;if(o(this,"value")){var n=k(r,this.value),i=c.call(this,n,this.primKey,r,s);i&&(e=this.value,It(i).forEach(function(t){m(e,t,i[t])}))}else u.call(this,this.primKey,e,s)};else if(c===I){var h=It(t),g=h.length;d=function(e){for(var r=!1,n=0;n<g;++n){var o=h[n],i=t[o];p(e,o)!==i&&(m(e,o,i),r=!0)}return r}}else{var b=t;t=y(b),d=function(e){var r=!1,o=c.call(this,t,this.primKey,w(e),s);return o&&n(t,o),It(t).forEach(function(n){var o=t[n];p(e,n)!==o&&(m(e,n,o),r=!0)}),o&&(t=y(b)),r}}var T=0,E=0,x=!1,N=[],S=[],B=null;e.clone().raw()._iterate(f,function(){x=!0,_()},l,a)})},delete:function(){var t=this,e=this._ctx,r=e.range,n=e.table.hook.deleting.fire,o=n!==I;if(!o&&H(e)&&(e.isPrimKey&&!Ve||!r))return this._write(function(t,e,n){var o=Et(e),i=r?n.count(r):n.count();i.onerror=o,i.onsuccess=function(){var c=i.result;v(function(){var e=r?n.delete(r):n.clear();e.onerror=o,e.onsuccess=function(){return t(c)}},function(t){return e(t)})}});var i=o?2e3:1e4;return this._write(function(r,c,u,a){var s=0,f=t.clone({keysOnly:!e.isMatch&&!o}).distinct().limit(i).raw(),l=[],_=function(){return f.each(o?function(t,e){l.push([e.primaryKey,e.value])}:function(t,e){l.push(e.primaryKey)}).then(function(){return o?l.sort(function(t,e){return rt(t[0],e[0])}):l.sort(rt),K(u,a,l,o,n)}).then(function(){var t=l.length;return s+=t,l=[],t<i?s:_()})};r(_())})}}}),n(this,{Collection:z,Table:C,Transaction:Q,Version:r,WhereClause:W}),function(){Xt.on("versionchange",function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+Xt.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Xt.name+"'. Closing db now to resume the delete request."),Xt.close()}),Xt.on("blocked",function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+Xt.name+"') was blocked"):console.warn("Upgrade '"+Xt.name+"' blocked by other connection holding version "+t.oldVersion/10)})}(),Ct.forEach(function(t){t(Xt)})}function wt(t){if("function"==typeof t)return new t;if(Ot(t))return[wt(t[0])];if(t&&"object"==typeof t){var e={};return kt(e,t),e}return t}function kt(t,e){return It(e).forEach(function(r){var n=wt(e[r]);t[r]=n}),t}function Tt(t){return it(function(e){var r=e.target,n=r._hookCtx,o=n.value||r.result,i=n&&n.onsuccess;i&&i(o),t&&t(o)},t)}function Et(t){return it(function(e){return St(e),t(e.target.error),!1})}function xt(t){return it(function(e){t(e.target.result)})}function Nt(t){return it(function(e){var r=e.target,n=r.error,o=r._hookCtx,i=o&&o.onerror;return i&&i(n),St(e),t(n),!1})}function St(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}function Bt(t){function e(t){return function(e){var r=t(e),n=r.value;return r.done?n:n&&"function"==typeof n.then?n.then(o,i):Ot(n)?J.all(n).then(o,i):o(n)}}var r=function(e){return t.next(e)},n=function(e){return t.throw(e)},o=e(r),i=e(n);return e(r)()}function Pt(t,e,r,n,o,i,c){this.name=t,this.keyPath=e,this.unique=r,this.multi=n,this.auto=o,this.compound=i,this.dotted=c;var u="string"==typeof e?e:e&&"["+[].join.call(e,"+")+"]";this.src=(r?"&":"")+(n?"*":"")+(o?"++":"")+u}function At(t,e,r,n){this.name=t,this.primKey=e||new Pt,this.indexes=r||[new Pt],this.instanceTemplate=n,this.mappedClass=null,this.idxByName=d(r,function(t){return[t.name,t]})}function Dt(t){return 1===t.length?t[0]:t}function Mt(t){var e=t&&(t.getDatabaseNames||t.webkitGetDatabaseNames);return e&&e.bind(t)}var It=Object.keys,Ot=Array.isArray,Rt="undefined"!=typeof self?self:"undefined"!=typeof window?window:t,Ct=Object.getPrototypeOf,jt={}.hasOwnProperty,Ft=Object.defineProperty,qt=Object.getOwnPropertyDescriptor,Lt=[].slice,Ut=[].concat,Jt="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(b([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return Rt[t]}).map(function(t){return Rt[t]}),Kt="undefined"!=typeof Symbol&&Symbol.iterator,Qt=Kt?function(t){var e;return null!=t&&(e=t[Kt])&&e.apply(t)}:function(){return null},Wt={},zt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Ht=function(){return!0},Vt=!new Error("").stack,$t=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Gt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yt=$t.concat(Gt),Xt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};u(B).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+N(this._e,2))}},toString:function(){return this.name+": "+this.message}}),u(A).from(B),u(D).from(B);var Zt=Yt.reduce(function(t,e){return t[e]=e+"Error",t},{}),te=B,ee=Yt.reduce(function(t,e){function r(t,r){this._e=x(),this.name=n,t?"string"==typeof t?(this.message=t,this.inner=r||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=Xt[e]||n,this.inner=null)}var n=e+"Error";return u(r).from(te),t[e]=r,t},{});ee.Syntax=SyntaxError,ee.Type=TypeError,ee.Range=RangeError;var re=Gt.reduce(function(t,e){return t[e+"Error"]=ee[e],t},{}),ne=Yt.reduce(function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=ee[e]),t},{});ne.ModifyError=A,ne.DexieError=B,ne.BulkError=D;var oe={},ie=100,ce=7,ue=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(e){var t=Rt.Promise;return t?[t.resolve(),t.prototype,t.resolve()]:[]}}(),ae=ue[0],se=ue[1],fe=ue[2],le=se&&se.then,_e=ae&&ae.constructor,de=ue[3],he=!!fe,ve=!1,pe=fe?function(){fe.then(Y)}:Rt.setImmediate?r.bind(null,Y):Rt.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Y(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Y,0)},me=function(t,e){Ne.push([t,e]),ye&&(pe(),ye=!1)},ge=!0,ye=!0,be=[],we=[],ke=null,Te=O,Ee={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:gt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{gt(t[0],t[1])}catch(t){}})}},xe=Ee,Ne=[],Se=0,Be=[],Pe={get:function(){function t(t,n){var o=this,i=!e.global&&(e!==xe||r!==Re);i&&at();var c=new J(function(r,c){H(o,new K(pt(t,e,i),pt(n,e,i),r,c,e))});return zt&&G(c,this),c}var e=xe,r=Re;return t.prototype=oe,t},set:function(t){c(this,"then",t&&t.prototype===oe?Pe:{get:function(){return t},set:Pe.set})}};i(J.prototype,{then:Pe,_then:function(t,e){H(this,new K(null,null,t,e,xe))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],r=arguments[1];return"function"==typeof e?this.then(null,function(t){return t instanceof e?r(t):ot(t)}):this.then(null,function(t){return t&&t.name===e?r(t):ot(t)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),ot(e)})},stack:{get:function(){if(this._stack)return this._stack;try{ve=!0;var t=$(this,[],20),e=t.join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ve=!1}}},timeout:function(t,e){var r=this;return t<1/0?new J(function(n,o){var i=setTimeout(function(){return o(new ee.Timeout(e))},t);r.then(n,o).finally(clearTimeout.bind(null,i))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&c(J.prototype,Symbol.toStringTag,"Promise"),Ee.env=dt(),i(J,{all:function(){var t=T.apply(null,arguments).map(st);return new J(function(e,r){0===t.length&&e([]);var n=t.length;t.forEach(function(o,i){return J.resolve(o).then(function(r){t[i]=r,--n||e(t)},r)})})},resolve:function(t){if(t instanceof J)return t;if(t&&"function"==typeof t.then)return new J(function(e,r){t.then(e,r)});var e=new J(oe,!0,t);return G(e,ke),e},reject:ot,race:function(){var t=T.apply(null,arguments).map(st);return new J(function(e,r){t.map(function(t){return J.resolve(t).then(e,r)})})},PSD:{get:function(){return xe},set:function(t){return xe=t}},newPSD:ct,usePSD:ht,scheduler:{get:function(){return me},set:function(t){me=t}},rejectionMapper:{get:function(){return Te},set:function(t){Te=t}},follow:function(t,e){return new J(function(r,n){return ct(function(e,r){var n=xe;n.unhandleds=[],n.onunhandled=r,n.finalize=C(function(){var t=this;et(function(){0===t.unhandleds.length?e():r(t.unhandleds[0])})},n.finalize),t()},e,r,n)})}});var Ae,De={awaits:0,echoes:0,id:0},Me=0,Ie=[],Oe=0,Re=0,Ce=0,je="unhandledrejection",Fe=J.reject,qe="{version}",Le=String.fromCharCode(65535),Ue=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return Le}}(),Je=-1/0,Ke="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qe="String expected.",We=[],ze="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),He=ze,Ve=ze,$e=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};E(zt,$e),i(bt,ne),i(bt,{delete:function(t){var e=new bt(t),r=e.delete();return r.onblocked=function(t){return e.on("blocked",t),this},r},exists:function(t){return new bt(t).open().then(function(t){return t.close(),!0}).catch(bt.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(t){var e=Mt(bt.dependencies.indexedDB);return e?new J(function(t,r){var n=e();n.onsuccess=function(e){t(s(e.target.result,0))},n.onerror=Et(r)}).then(t):Ae.dbnames.toCollection().primaryKeys(t)},defineClass:function(){function t(t){t&&n(this,t)}return t},applyStructure:kt,ignoreTransaction:function(t){return xe.trans?ht(xe.transless,t):t()},vip:function(t){return ct(function(){return xe.letThrough=!0,t()})},async:function(t){return function(){try{var e=Bt(t.apply(this,arguments));return e&&"function"==typeof e.then?e:J.resolve(e)}catch(t){return Fe(t)}}},spawn:function(t,e,r){try{var n=Bt(t.apply(r,e||[]));return n&&"function"==typeof n.then?n:J.resolve(n)}catch(t){return Fe(t)}},currentTransaction:{get:function(){return xe.trans||null}},waitFor:function(t,e){var r=J.resolve("function"==typeof t?bt.ignoreTransaction(t):t).timeout(e||6e4);return xe.trans?xe.trans.waitFor(r):r},Promise:J,debug:{get:function(){return zt},set:function(t){E(t,"dexie"===t?function(){return!0}:$e)}},derive:u,extend:n,props:i,override:f,Events:yt,getByKeyPath:p,setByKeyPath:m,delByKeyPath:g,shallowClone:y,deepClone:w,getObjectDiff:k,asap:_,maxKey:Ue,minKey:Je,addons:[],connections:We,MultiModifyError:ee.Modify,errnames:Zt,IndexSpec:Pt,TableSchema:At,dependencies:function(){try{return{indexedDB:Rt.indexedDB||Rt.mozIndexedDB||Rt.webkitIndexedDB||Rt.msIndexedDB,IDBKeyRange:Rt.IDBKeyRange||Rt.webkitIDBKeyRange}}catch(t){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:qe,version:qe.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,r){return t+e/Math.pow(10,2*r)}),default:bt,Dexie:bt}),J.rejectionMapper=M,Ae=new bt("__dbnames"),Ae.version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==Rt.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(t){return Ae.dbnames.put({name:t}).catch(I)}),localStorage.removeItem("Dexie.DatabaseNames"))}catch(t){}}(),e.a=bt}).call(e,r(0),r(6).setImmediate)},function(t,e,r){(function(t){function n(t,e){this._id=t,this._clearFn=e}var o=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;e.setTimeout=function(){return new n(i.call(setTimeout,o,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,o,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(o,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(7),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,r(0))},function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return s[a]=n,u(a),a++}function o(t){delete s[t]}function i(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function c(t){if(f)setTimeout(c,0,t);else{var e=s[t];if(e){f=!0;try{i(e)}finally{o(t),f=!1}}}}if(!t.setImmediate){var u,a=1,s={},f=!1,l=t.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(t);_=_&&_.setTimeout?_:t,"[object process]"==={}.toString.call(t.process)?function(){u=function(t){e.nextTick(function(){c(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&c(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),u=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},u=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;u=function(e){var r=l.createElement("script");r.onreadystatechange=function(){c(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():function(){u=function(t){setTimeout(c,0,t)}}(),_.setImmediate=n,_.clearImmediate=o}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,r(0),r(8))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function c(){v&&d&&(v=!1,d.length?h=d.concat(h):p=-1,h.length&&u())}function u(){if(!v){var t=o(c);v=!0;for(var e=h.length;e;){for(d=h,h=[];++p<e;)d&&d[p].run();p=-1,e=h.length}d=null,v=!1,i(t)}}function a(t,e){this.fun=t,this.array=e}function s(){}var f,l,_=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var d,h=[],v=!1,p=-1;_.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new a(t,e)),1!==h.length||v||o(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=s,_.addListener=s,_.once=s,_.off=s,_.removeListener=s,_.removeAllListeners=s,_.emit=s,_.prependListener=s,_.prependOnceListener=s,_.listeners=function(t){return[]},_.binding=function(t){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(t){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},function(t,e,r){"use strict";function n(){if("serviceWorker"in navigator){if(new URL("/dog-do",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/dog-do/service-worker.js";c?i(t):o(t)})}}function o(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function i(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):o(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}e.a=n;var c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);